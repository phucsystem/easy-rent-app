This file is a merged representation of a subset of the codebase, containing files not matching ignore patterns, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of a subset of the repository's contents that is considered the most important context.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching these patterns are excluded: node_modules/*, .next/*, dist/*, build/*, .git/*, coverage/*
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
docs/
  code-standards.md
  codebase-summary.md
  deployment-guide.md
  design-guidelines.md
  project-overview-pdr.md
  project-roadmap.md
  system-architecture.md
public/
  file.svg
  globe.svg
  next.svg
  vercel.svg
  window.svg
src/
  app/
    [locale]/
      auth/
        forgot-password/
          page.tsx
        login/
          page.tsx
        register/
          page.tsx
        reset-password/
          page.tsx
      dashboard/
        dashboard-client.tsx
        page.tsx
      layout.tsx
      page.tsx
    favicon.ico
    globals.css
    layout.tsx
    page.tsx
  components/
    auth/
      auth-split-layout.tsx
    dashboard/
      chart-container.tsx
      dashboard-header.tsx
      dashboard-layout.tsx
      dashboard-sidebar.tsx
      metric-item.tsx
      stat-card.tsx
    ui/
      button.tsx
      card.tsx
      dialog.tsx
      dropdown-menu.tsx
      form.tsx
      input.tsx
      label.tsx
      select.tsx
      table.tsx
      textarea.tsx
  hooks/
    use-auth.tsx
  lib/
    actions/
      auth.ts
    supabase/
      auth.ts
      client.ts
      middleware.ts
      server.ts
    design-tokens.ts
    utils.ts
  messages/
    en.json
    vi.json
  types/
    database.ts
  i18n.ts
  middleware.ts
.gitignore
components.json
eslint.config.mjs
next.config.ts
package.json
postcss.config.mjs
README.md
tsconfig.json
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="src/app/[locale]/auth/forgot-password/page.tsx">
'use client';

import { useState } from 'react';
import { useRouter, useParams } from 'next/navigation';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card';
import { resetPassword } from '@/lib/supabase/auth';
import Link from 'next/link';

export default function ForgotPasswordPage() {
  const router = useRouter();
  const params = useParams();
  const locale = (params?.locale as string) || 'vi';
  const [email, setEmail] = useState('');
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const [success, setSuccess] = useState(false);

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setError(null);
    setLoading(true);

    try {
      await resetPassword(email);
      setSuccess(true);
    } catch (err: unknown) {
      const authError = err as { message: string };
      setError(authError.message || 'Failed to send reset email');
    } finally {
      setLoading(false);
    }
  };

  if (success) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-[#F8F8F8] p-4">
        <Card className="w-full max-w-md rounded-2xl shadow-lg border-0">
          <CardHeader className="space-y-1 pb-6">
            <div className="flex items-center justify-center mb-4">
              <div className="w-16 h-16 rounded-full bg-green-100 flex items-center justify-center">
                <svg className="w-8 h-8 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
              </div>
            </div>
            <CardTitle className="text-2xl font-bold text-center">Check your email</CardTitle>
            <CardDescription className="text-center text-base">
              We sent a password reset link to <span className="font-medium text-foreground">{email}</span>
            </CardDescription>
          </CardHeader>
          <CardFooter>
            <Button
              onClick={() => router.push(`/${locale}/auth/login`)}
              className="w-full h-11 rounded-xl bg-primary hover:bg-primary/90 text-primary-foreground font-medium"
            >
              Back to Sign In
            </Button>
          </CardFooter>
        </Card>
      </div>
    );
  }

  return (
    <div className="min-h-screen flex items-center justify-center bg-[#F8F8F8] p-4">
      <Card className="w-full max-w-md rounded-2xl shadow-lg border-0">
        <CardHeader className="space-y-1 pb-6">
          <div className="flex items-center justify-center mb-4">
            <div className="w-12 h-12 rounded-xl bg-primary flex items-center justify-center">
              <span className="text-2xl font-bold text-primary-foreground">$</span>
            </div>
          </div>
          <CardTitle className="text-2xl font-bold text-center">Forgot Password</CardTitle>
          <CardDescription className="text-center text-base">
            Enter your email and we&apos;ll send you a reset link
          </CardDescription>
        </CardHeader>
        <form onSubmit={handleSubmit}>
          <CardContent className="space-y-5">
            {error && (
              <div className="bg-red-50 text-red-600 text-sm p-3 rounded-xl border border-red-100">
                {error}
              </div>
            )}
            <div className="space-y-2">
              <Label htmlFor="email" className="text-sm font-medium">Email</Label>
              <Input
                id="email"
                type="email"
                placeholder="your@email.com"
                value={email}
                onChange={(e) => setEmail(e.target.value)}
                required
                disabled={loading}
                autoComplete="email"
                className="rounded-xl h-11 border-gray-200 focus-visible:ring-primary"
              />
            </div>
          </CardContent>
          <CardFooter className="flex flex-col space-y-4 pt-2">
            <Button
              type="submit"
              className="w-full h-11 rounded-xl bg-primary hover:bg-primary/90 text-primary-foreground font-medium"
              disabled={loading}
            >
              {loading ? 'Sending...' : 'Send Reset Link'}
            </Button>
            <Link
              href={`/${locale}/auth/login`}
              className="text-sm text-muted-foreground hover:text-foreground flex items-center gap-1"
            >
              <svg className="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" />
              </svg>
              Back to Sign In
            </Link>
          </CardFooter>
        </form>
      </Card>
    </div>
  );
}
</file>

<file path="src/app/[locale]/auth/login/page.tsx">
'use client';

import { useState } from 'react';
import { useRouter, useParams } from 'next/navigation';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card';
import { useAuth } from '@/hooks/use-auth';
import Link from 'next/link';
import { AuthSplitLayout } from '@/components/auth/auth-split-layout';

export default function LoginPage() {
  const router = useRouter();
  const params = useParams();
  const locale = (params?.locale as string) || 'vi';
  const { signIn } = useAuth();
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setError(null);
    setLoading(true);

    try {
      await signIn(email, password);
      router.push(`/${locale}/dashboard`);
    } catch (err: unknown) {
      const authError = err as { message: string };
      setError(authError.message || 'Sign in failed');
    } finally {
      setLoading(false);
    }
  };

  return (
    <AuthSplitLayout
      title="Welcome Back"
      subtitle="Sign in to access your dashboard and manage your rentals with ease."
    >
      <Card className="border-0 shadow-none bg-transparent">
        <CardHeader className="space-y-1 pb-6">
          <CardTitle className="text-2xl font-bold text-center lg:text-left">Sign In</CardTitle>
          <CardDescription className="text-base text-center lg:text-left">
            Enter your credentials to continue
          </CardDescription>
        </CardHeader>
        <form onSubmit={handleSubmit}>
          <CardContent className="space-y-5">
            {error && (
              <div className="bg-red-50 text-red-600 text-sm p-3 rounded-xl border border-red-100">
                {error}
              </div>
            )}
            <div className="space-y-2">
              <Label htmlFor="email" className="text-sm font-medium">Email</Label>
              <Input
                id="email"
                type="email"
                placeholder="your@email.com"
                value={email}
                onChange={(e) => setEmail(e.target.value)}
                required
                disabled={loading}
                autoComplete="email"
                className="rounded-xl h-11 border-gray-200 focus-visible:ring-primary"
              />
            </div>
            <div className="space-y-2">
              <div className="flex items-center justify-between">
                <Label htmlFor="password" className="text-sm font-medium">Password</Label>
                <Link
                  href={`/${locale}/auth/forgot-password`}
                  className="text-sm text-primary hover:underline font-medium"
                >
                  Forgot password?
                </Link>
              </div>
              <Input
                id="password"
                type="password"
                placeholder="••••••••"
                value={password}
                onChange={(e) => setPassword(e.target.value)}
                required
                disabled={loading}
                autoComplete="current-password"
                className="rounded-xl h-11 border-gray-200 focus-visible:ring-primary"
              />
            </div>
          </CardContent>
          <CardFooter className="flex flex-col space-y-4 pt-2">
            <Button
              type="submit"
              className="w-full h-11 rounded-xl bg-primary hover:bg-primary/90 text-primary-foreground font-medium shadow-md hover:shadow-lg transition-all"
              disabled={loading}
            >
              {loading ? 'Signing in...' : 'Sign In'}
            </Button>
            <p className="text-sm text-muted-foreground">
              Don&apos;t have an account?{' '}
              <Link
                href={`/${locale}/auth/register`}
                className="text-primary hover:underline font-semibold"
              >
                Sign up
              </Link>
            </p>
          </CardFooter>
        </form>
      </Card>
    </AuthSplitLayout>
  );
}
</file>

<file path="src/app/[locale]/auth/register/page.tsx">
'use client';

import { useState } from 'react';
import { useRouter, useParams } from 'next/navigation';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card';
import { useAuth } from '@/hooks/use-auth';
import Link from 'next/link';
import { AuthSplitLayout } from '@/components/auth/auth-split-layout';

export default function RegisterPage() {
  const router = useRouter();
  const params = useParams();
  const locale = (params?.locale as string) || 'vi';
  const { signUp } = useAuth();
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [confirmPassword, setConfirmPassword] = useState('');
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const [success, setSuccess] = useState(false);

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setError(null);

    if (password !== confirmPassword) {
      setError('Passwords do not match');
      return;
    }

    if (password.length < 6) {
      setError('Password must be at least 6 characters');
      return;
    }

    setLoading(true);

    try {
      await signUp(email, password);
      setSuccess(true);
    } catch (err: unknown) {
      const authError = err as { message: string };
      setError(authError.message || 'Registration failed');
    } finally {
      setLoading(false);
    }
  };

  if (success) {
    return (
      <AuthSplitLayout
        title="Check Your Email"
        subtitle="We sent you a confirmation link. Click it to activate your account."
      >
        <Card className="border-0 shadow-none bg-transparent">
          <CardHeader className="space-y-1 pb-6">
            <div className="flex items-center justify-center lg:justify-start mb-4">
              <div className="w-16 h-16 rounded-full bg-green-100 flex items-center justify-center">
                <svg className="w-8 h-8 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
                </svg>
              </div>
            </div>
            <CardTitle className="text-2xl font-bold text-center lg:text-left">Almost There!</CardTitle>
            <CardDescription className="text-base text-center lg:text-left">
              Please check your email to verify your account
            </CardDescription>
          </CardHeader>
          <CardFooter>
            <Button
              onClick={() => router.push(`/${locale}/auth/login`)}
              className="w-full h-11 rounded-xl bg-primary hover:bg-primary/90 text-primary-foreground font-medium shadow-md hover:shadow-lg transition-all"
            >
              Go to Sign In
            </Button>
          </CardFooter>
        </Card>
      </AuthSplitLayout>
    );
  }

  return (
    <AuthSplitLayout
      title="Create Account"
      subtitle="Join Easy Rent today and start managing your rentals effortlessly."
    >
      <Card className="border-0 shadow-none bg-transparent">
        <CardHeader className="space-y-1 pb-6">
          <CardTitle className="text-2xl font-bold text-center lg:text-left">Sign Up</CardTitle>
          <CardDescription className="text-base text-center lg:text-left">
            Enter your details to create your account
          </CardDescription>
        </CardHeader>
        <form onSubmit={handleSubmit}>
          <CardContent className="space-y-5">
            {error && (
              <div className="bg-red-50 text-red-600 text-sm p-3 rounded-xl border border-red-100">
                {error}
              </div>
            )}
            <div className="space-y-2">
              <Label htmlFor="email" className="text-sm font-medium">Email</Label>
              <Input
                id="email"
                type="email"
                placeholder="your@email.com"
                value={email}
                onChange={(e) => setEmail(e.target.value)}
                required
                disabled={loading}
                autoComplete="email"
                className="rounded-xl h-11 border-gray-200 focus-visible:ring-primary"
              />
            </div>
            <div className="space-y-2">
              <Label htmlFor="password" className="text-sm font-medium">Password</Label>
              <Input
                id="password"
                type="password"
                placeholder="••••••••"
                value={password}
                onChange={(e) => setPassword(e.target.value)}
                required
                disabled={loading}
                minLength={6}
                autoComplete="new-password"
                className="rounded-xl h-11 border-gray-200 focus-visible:ring-primary"
              />
              <p className="text-xs text-muted-foreground">Must be at least 6 characters</p>
            </div>
            <div className="space-y-2">
              <Label htmlFor="confirmPassword" className="text-sm font-medium">Confirm Password</Label>
              <Input
                id="confirmPassword"
                type="password"
                placeholder="••••••••"
                value={confirmPassword}
                onChange={(e) => setConfirmPassword(e.target.value)}
                required
                disabled={loading}
                autoComplete="new-password"
                className="rounded-xl h-11 border-gray-200 focus-visible:ring-primary"
              />
            </div>
          </CardContent>
          <CardFooter className="flex flex-col space-y-4 pt-2">
            <Button
              type="submit"
              className="w-full h-11 rounded-xl bg-primary hover:bg-primary/90 text-primary-foreground font-medium shadow-md hover:shadow-lg transition-all"
              disabled={loading}
            >
              {loading ? 'Creating account...' : 'Sign Up'}
            </Button>
            <p className="text-sm text-muted-foreground">
              Already have an account?{' '}
              <Link
                href={`/${locale}/auth/login`}
                className="text-primary hover:underline font-semibold"
              >
                Sign in
              </Link>
            </p>
          </CardFooter>
        </form>
      </Card>
    </AuthSplitLayout>
  );
}
</file>

<file path="src/app/[locale]/auth/reset-password/page.tsx">
'use client';

import { useState } from 'react';
import { useRouter, useParams } from 'next/navigation';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card';
import { updatePassword } from '@/lib/supabase/auth';

export default function ResetPasswordPage() {
  const router = useRouter();
  const params = useParams();
  const locale = (params?.locale as string) || 'vi';
  const [password, setPassword] = useState('');
  const [confirmPassword, setConfirmPassword] = useState('');
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setError(null);

    if (password !== confirmPassword) {
      setError('Passwords do not match');
      return;
    }

    if (password.length < 6) {
      setError('Password must be at least 6 characters');
      return;
    }

    setLoading(true);

    try {
      await updatePassword(password);
      router.push(`/${locale}/auth/login`);
    } catch (err: unknown) {
      const authError = err as { message: string };
      setError(authError.message || 'Failed to update password');
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-[#F8F8F8] p-4">
      <Card className="w-full max-w-md rounded-2xl shadow-lg border-0">
        <CardHeader className="space-y-1 pb-6">
          <div className="flex items-center justify-center mb-4">
            <div className="w-12 h-12 rounded-xl bg-primary flex items-center justify-center">
              <span className="text-2xl font-bold text-primary-foreground">$</span>
            </div>
          </div>
          <CardTitle className="text-2xl font-bold text-center">Set New Password</CardTitle>
          <CardDescription className="text-center text-base">
            Enter your new password below
          </CardDescription>
        </CardHeader>
        <form onSubmit={handleSubmit}>
          <CardContent className="space-y-5">
            {error && (
              <div className="bg-red-50 text-red-600 text-sm p-3 rounded-xl border border-red-100">
                {error}
              </div>
            )}
            <div className="space-y-2">
              <Label htmlFor="password" className="text-sm font-medium">New Password</Label>
              <Input
                id="password"
                type="password"
                placeholder="••••••••"
                value={password}
                onChange={(e) => setPassword(e.target.value)}
                required
                disabled={loading}
                minLength={6}
                autoComplete="new-password"
                className="rounded-xl h-11 border-gray-200 focus-visible:ring-primary"
              />
            </div>
            <div className="space-y-2">
              <Label htmlFor="confirmPassword" className="text-sm font-medium">Confirm Password</Label>
              <Input
                id="confirmPassword"
                type="password"
                placeholder="••••••••"
                value={confirmPassword}
                onChange={(e) => setConfirmPassword(e.target.value)}
                required
                disabled={loading}
                autoComplete="new-password"
                className="rounded-xl h-11 border-gray-200 focus-visible:ring-primary"
              />
            </div>
          </CardContent>
          <CardFooter className="pt-2">
            <Button
              type="submit"
              className="w-full h-11 rounded-xl bg-primary hover:bg-primary/90 text-primary-foreground font-medium"
              disabled={loading}
            >
              {loading ? 'Updating...' : 'Update Password'}
            </Button>
          </CardFooter>
        </form>
      </Card>
    </div>
  );
}
</file>

<file path="src/app/[locale]/dashboard/dashboard-client.tsx">
'use client';

import { useState } from 'react';
import { DashboardLayout } from '@/components/dashboard/dashboard-layout';
import { StatCard } from '@/components/dashboard/stat-card';
import { ChartContainer } from '@/components/dashboard/chart-container';
import { MetricItem } from '@/components/dashboard/metric-item';
import { Building2, Users, FileText, Calendar } from 'lucide-react';

interface DashboardClientProps {
  locale: string;
  userEmail: string;
}

export function DashboardClient({ locale, userEmail }: DashboardClientProps) {
  const [chartFilter, setChartFilter] = useState('Monthly');

  return (
    <DashboardLayout locale={locale}>
      {/* Page Header */}
      <div className="mb-6">
        <h1 className="text-2xl font-bold text-foreground">Dashboard</h1>
        <p className="text-muted-foreground">Welcome back, {userEmail}</p>
      </div>

      {/* Statistics Cards Grid */}
      <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 mb-6">
        <StatCard
          title="Locations"
          value="20"
          trend="+10%"
          trendPositive
          icon={<Building2 className="w-5 h-5" />}
          badge="Pro"
        />
        <StatCard
          title="Customers"
          value="12,345"
          trend="+10%"
          trendPositive
          icon={<Users className="w-5 h-5" />}
        />
        <StatCard
          title="Active Contract"
          value="1,000"
          trend="+10%"
          trendPositive
          icon={<FileText className="w-5 h-5" />}
        />
        <StatCard
          title="Total Revenue"
          value="1B"
          trend="+10%"
          trendPositive
          icon={<Calendar className="w-5 h-5" />}
        />
        <StatCard
          title="Pending Bookings"
          value="500"
          trend="+10%"
          trendPositive
          icon={<Calendar className="w-5 h-5" />}
        />
        <StatCard
          title="Completed Bookings"
          value="999"
          trend="+10%"
          trendPositive
          icon={<Calendar className="w-5 h-5" />}
        />
      </div>

      {/* Charts and Metrics Section */}
      <div className="grid grid-cols-1 lg:grid-cols-3 gap-5">
        {/* Chart */}
        <div className="lg:col-span-2">
          <ChartContainer
            title="Invoice Amount By Time"
            filterOptions={['Monthly', 'Weekly', 'Daily']}
            selectedFilter={chartFilter}
            onFilterChange={setChartFilter}
          >
            <div className="h-64 flex items-center justify-center bg-muted/30 rounded-xl">
              <p className="text-muted-foreground">Chart will be rendered here</p>
            </div>
          </ChartContainer>
        </div>

        {/* Total Invoiced Amount */}
        <div>
          <ChartContainer title="Total Invoiced Amount">
            <div className="space-y-1">
              <MetricItem label="Paid Amount" value="50.0M" color="success" />
              <MetricItem label="Unpaid Amount" value="30.0M" color="warning" />
              <MetricItem label="Overdue" value="20.0M" color="error" />
              <div className="pt-3 mt-3 border-t border-gray-100">
                <div className="flex items-center justify-between">
                  <span className="text-sm font-medium">Total</span>
                  <span className="text-lg font-bold">100.0M</span>
                </div>
              </div>
            </div>
          </ChartContainer>
        </div>
      </div>
    </DashboardLayout>
  );
}
</file>

<file path="src/app/[locale]/dashboard/page.tsx">
import { redirect } from 'next/navigation';
import { createServerClient } from '@/lib/supabase/server';
import { DashboardClient } from './dashboard-client';

export default async function DashboardPage({
  params,
}: {
  params: Promise<{ locale: string }>;
}) {
  const { locale } = await params;
  const supabase = await createServerClient();
  const { data: { user } } = await supabase.auth.getUser();

  if (!user || !user.email) {
    redirect(`/${locale}/auth/login`);
  }

  return <DashboardClient locale={locale} userEmail={user.email} />;
}
</file>

<file path="src/app/[locale]/layout.tsx">
import { NextIntlClientProvider } from 'next-intl';
import { getMessages } from 'next-intl/server';
import { notFound } from 'next/navigation';
import { AuthProvider } from '@/hooks/use-auth';

const locales = ['en', 'vi'];

export default async function LocaleLayout({
  children,
  params,
}: {
  children: React.ReactNode;
  params: Promise<{ locale: string }>;
}) {
  const { locale } = await params;

  // Validate locale
  if (!locales.includes(locale)) {
    notFound();
  }

  // Get messages for server components
  const messages = await getMessages();

  return (
    <NextIntlClientProvider messages={messages}>
      <AuthProvider>{children}</AuthProvider>
    </NextIntlClientProvider>
  );
}

export function generateStaticParams() {
  return locales.map((locale) => ({ locale }));
}
</file>

<file path="src/app/[locale]/page.tsx">
import { redirect } from 'next/navigation';
import { createServerClient } from '@/lib/supabase/server';

export default async function HomePage({
  params,
}: {
  params: Promise<{ locale: string }>;
}) {
  const { locale } = await params;
  const supabase = await createServerClient();
  const { data: { user } } = await supabase.auth.getUser();

  if (user) {
    redirect(`/${locale}/dashboard`);
  } else {
    redirect(`/${locale}/auth/login`);
  }
}
</file>

<file path="src/components/auth/auth-split-layout.tsx">
import { ReactNode } from 'react';

interface AuthSplitLayoutProps {
  children: ReactNode;
  title: string;
  subtitle: string;
}

export function AuthSplitLayout({ children, title, subtitle }: AuthSplitLayoutProps) {
  return (
    <div className="min-h-screen flex flex-col lg:flex-row">
      {/* Left Side - Gradient with geometric shapes */}
      <div className="lg:w-1/2 relative overflow-hidden bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 flex items-center justify-center p-8 lg:p-16">
        {/* Geometric shapes */}
        <div className="absolute inset-0 overflow-hidden">
          {/* Large circle */}
          <div className="absolute -top-32 -left-32 w-96 h-96 rounded-full bg-gradient-to-br from-primary/20 to-amber-200/30 blur-3xl animate-pulse" />
          {/* Medium circle */}
          <div className="absolute top-1/4 right-1/4 w-64 h-64 rounded-full bg-gradient-to-tl from-yellow-300/20 to-orange-200/20 blur-2xl" />
          {/* Small circles */}
          <div className="absolute bottom-1/4 left-1/4 w-32 h-32 rounded-full bg-gradient-to-br from-amber-300/30 to-primary/10 blur-xl" />
          {/* Grid pattern overlay */}
          <div
            className="absolute inset-0 opacity-10"
            style={{
              backgroundImage: `
                linear-gradient(rgba(245, 158, 11, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(245, 158, 11, 0.1) 1px, transparent 1px)
              `,
              backgroundSize: '40px 40px',
            }}
          />
          {/* Floating shapes */}
          <div className="absolute top-1/3 left-1/6 w-16 h-16 rounded-2xl bg-primary/10 rotate-12 backdrop-blur-sm border border-primary/20" />
          <div className="absolute bottom-1/3 right-1/6 w-12 h-12 rounded-full bg-yellow-400/20 backdrop-blur-sm border border-yellow-300/30" />
          <div className="absolute top-2/3 right-1/4 w-20 h-20 rounded-xl bg-orange-300/10 -rotate-6 backdrop-blur-sm border border-orange-200/20" />
        </div>

        {/* Content */}
        <div className="relative z-10 text-center max-w-lg">
          <div className="mb-8">
            <div className="inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-primary to-amber-500 shadow-2xl shadow-primary/30 mb-6">
              <span className="text-4xl font-bold text-white">$</span>
            </div>
          </div>
          <h1 className="text-4xl lg:text-5xl font-bold text-gray-900 mb-4">
            {title}
          </h1>
          <p className="text-lg text-gray-600 leading-relaxed">
            {subtitle}
          </p>
          {/* Feature pills */}
          <div className="flex flex-wrap gap-3 justify-center mt-8">
            <span className="inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-full text-sm font-medium text-gray-700 shadow-sm border border-gray-200">
              <span className="w-2 h-2 rounded-full bg-primary" />
              Easy Rentals
            </span>
            <span className="inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-full text-sm font-medium text-gray-700 shadow-sm border border-gray-200">
              <span className="w-2 h-2 rounded-full bg-green-500" />
              Secure
            </span>
            <span className="inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-full text-sm font-medium text-gray-700 shadow-sm border border-gray-200">
              <span className="w-2 h-2 rounded-full bg-blue-500" />
              Fast
            </span>
          </div>
        </div>
      </div>

      {/* Right Side - Form */}
      <div className="lg:w-1/2 bg-white flex items-center justify-center p-4 lg:p-8">
        <div className="w-full max-w-md">
          {children}
        </div>
      </div>
    </div>
  );
}
</file>

<file path="src/components/dashboard/chart-container.tsx">
import { ReactNode } from 'react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu';
import { ChevronDown } from 'lucide-react';
import { Button } from '@/components/ui/button';

interface ChartContainerProps {
  title: string;
  filterOptions?: string[];
  selectedFilter?: string;
  onFilterChange?: (filter: string) => void;
  children: ReactNode;
}

export function ChartContainer({
  title,
  filterOptions,
  selectedFilter = 'Monthly',
  onFilterChange,
  children,
}: ChartContainerProps) {
  return (
    <Card className="rounded-2xl border border-gray-100 bg-white shadow-[0_2px_8px_rgba(0,0,0,0.04)] transition-shadow duration-300">
      <CardHeader className="flex flex-row items-center justify-between pb-4">
        <CardTitle className="text-lg font-semibold">{title}</CardTitle>
        {filterOptions && (
          <DropdownMenu>
            <DropdownMenuTrigger asChild>
              <Button
                variant="outline"
                size="sm"
                className="gap-2 rounded-lg hover:bg-gray-50 transition-colors focus-visible:ring-2 focus-visible:ring-primary"
              >
                <span>{selectedFilter}</span>
                <ChevronDown className="w-4 h-4 transition-transform group-hover:rotate-180" />
              </Button>
            </DropdownMenuTrigger>
            <DropdownMenuContent align="end">
              {filterOptions.map((option) => (
                <DropdownMenuItem
                  key={option}
                  onClick={() => onFilterChange?.(option)}
                  className={selectedFilter === option ? 'bg-accent' : 'cursor-pointer hover:bg-gray-100'}
                >
                  {option}
                </DropdownMenuItem>
              ))}
            </DropdownMenuContent>
          </DropdownMenu>
        )}
      </CardHeader>
      <CardContent>
        {children}
      </CardContent>
    </Card>
  );
}
</file>

<file path="src/components/dashboard/dashboard-header.tsx">
'use client';

import { useState } from 'react';
import { useRouter } from 'next/navigation';
import { Bell, Search, Settings, ChevronDown, LogOut } from 'lucide-react';
import { Button } from '@/components/ui/button';
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu';
import { signOut } from '@/lib/supabase/auth';

interface DashboardHeaderProps {
  locale: string;
}

export function DashboardHeader({ locale }: DashboardHeaderProps) {
  const router = useRouter();
  const [isSigningOut, setIsSigningOut] = useState(false);

  const handleSignOut = async () => {
    setIsSigningOut(true);
    try {
      await signOut();
      router.push(`/${locale}/auth/login`);
    } catch (error) {
      console.error('Sign out error:', error);
      setIsSigningOut(false);
    }
  };

  return (
    <header className="h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6">
      {/* Left: Location Selector */}
      <div className="flex items-center gap-4">
        <DropdownMenu>
          <DropdownMenuTrigger asChild>
            <Button variant="outline" className="gap-2 rounded-xl">
              <span>All locations</span>
              <ChevronDown className="w-4 h-4" />
            </Button>
          </DropdownMenuTrigger>
          <DropdownMenuContent align="start" className="w-56">
            <DropdownMenuLabel>Select Location</DropdownMenuLabel>
            <DropdownMenuSeparator />
            <DropdownMenuItem>All locations</DropdownMenuItem>
            <DropdownMenuItem>Downtown</DropdownMenuItem>
            <DropdownMenuItem>Uptown</DropdownMenuItem>
            <DropdownMenuItem>Suburb</DropdownMenuItem>
          </DropdownMenuContent>
        </DropdownMenu>

        {/* Search */}
        <div className="relative hidden md:block">
          <Search className="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400" />
          <input
            type="search"
            placeholder="Search..."
            className="pl-10 pr-4 py-2 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent w-64"
          />
        </div>
      </div>

      {/* Right: Actions */}
      <div className="flex items-center gap-3">
        {/* Notifications */}
        <Button variant="ghost" size="icon" className="rounded-xl relative">
          <Bell className="w-5 h-5" />
          <span className="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full" />
        </Button>

        {/* Settings */}
        <Button variant="ghost" size="icon" className="rounded-xl">
          <Settings className="w-5 h-5" />
        </Button>

        {/* User Profile */}
        <DropdownMenu>
          <DropdownMenuTrigger asChild>
            <Button variant="ghost" className="gap-2 rounded-xl pl-2">
              <div className="w-8 h-8 rounded-full bg-primary flex items-center justify-center">
                <span className="text-sm font-semibold text-primary-foreground">A</span>
              </div>
              <div className="text-left hidden sm:block">
                <p className="text-sm font-medium">Admin</p>
                <p className="text-xs text-muted-foreground">Name Label</p>
              </div>
              <ChevronDown className="w-4 h-4" />
            </Button>
          </DropdownMenuTrigger>
          <DropdownMenuContent align="end" className="w-56">
            <DropdownMenuLabel>My Account</DropdownMenuLabel>
            <DropdownMenuSeparator />
            <DropdownMenuItem>Profile</DropdownMenuItem>
            <DropdownMenuItem>Settings</DropdownMenuItem>
            <DropdownMenuItem>Billing</DropdownMenuItem>
            <DropdownMenuSeparator />
            <DropdownMenuItem
              className="text-red-600 cursor-pointer focus:bg-red-50"
              onClick={handleSignOut}
              disabled={isSigningOut}
            >
              <LogOut className="w-4 h-4 mr-2" />
              {isSigningOut ? 'Signing out...' : 'Sign out'}
            </DropdownMenuItem>
          </DropdownMenuContent>
        </DropdownMenu>
      </div>
    </header>
  );
}
</file>

<file path="src/components/dashboard/dashboard-layout.tsx">
'use client';

import { ReactNode } from 'react';
import { DashboardSidebar } from './dashboard-sidebar';
import { DashboardHeader } from './dashboard-header';

interface DashboardLayoutProps {
  locale: string;
  children: ReactNode;
}

export function DashboardLayout({ locale, children }: DashboardLayoutProps) {
  return (
    <div className="flex min-h-screen bg-[#F8F8F8]">
      <DashboardSidebar locale={locale} />
      <div className="flex-1 flex flex-col">
        <DashboardHeader locale={locale} />
        <main className="flex-1 p-6 overflow-auto">
          {children}
        </main>
      </div>
    </div>
  );
}
</file>

<file path="src/components/dashboard/dashboard-sidebar.tsx">
'use client';

import Link from 'next/link';
import { useParams, usePathname } from 'next/navigation';
import {
  LayoutDashboard,
  Calendar,
  Building2,
  Users,
  FileText,
  Settings,
  ChevronLeft,
  ChevronRight
} from 'lucide-react';
import { useState } from 'react';

const navItems = [
  { icon: LayoutDashboard, label: 'Dashboard', href: '/dashboard' },
  { icon: Calendar, label: 'Bookings', href: '/bookings' },
  { icon: Building2, label: 'Properties', href: '/properties' },
  { icon: Users, label: 'Customers', href: '/customers' },
  { icon: FileText, label: 'Contracts', href: '/contracts' },
  { icon: Settings, label: 'Settings', href: '/settings' },
];

interface DashboardSidebarProps {
  locale: string;
}

export function DashboardSidebar({ locale }: DashboardSidebarProps) {
  const pathname = usePathname();
  const [collapsed, setCollapsed] = useState(false);

  const getWidth = () => collapsed ? 'w-16' : 'w-60';

  return (
    <aside
      className={`${getWidth()} bg-[#212121] min-h-screen flex flex-col transition-all duration-300 relative`}
    >
      {/* Logo */}
      <div className="h-16 flex items-center justify-center border-b border-[#333333]">
        <div className="flex items-center gap-2">
          <div className="w-8 h-8 rounded-lg bg-primary flex items-center justify-center flex-shrink-0 shadow-lg transition-transform hover:scale-105">
            <span className="text-lg font-bold text-primary-foreground">$</span>
          </div>
          {!collapsed && (
            <span className="text-white font-semibold text-lg">Easy Rent</span>
          )}
        </div>
      </div>

      {/* Navigation */}
      <nav className="flex-1 py-4 px-2">
        <ul className="space-y-1">
          {navItems.map((item) => {
            const Icon = item.icon;
            const isActive = pathname === `/${locale}${item.href}`;

            return (
              <li key={item.href}>
                <Link
                  href={`/${locale}${item.href}`}
                  className={`
                    group flex items-center gap-3 px-3 py-3 rounded-lg
                    transition-all duration-200 ease-out
                    cursor-pointer
                    focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-[#212121]
                    ${isActive
                      ? 'bg-primary text-[#212121] font-semibold shadow-md scale-[1.02]'
                      : 'text-[#CCCCCC] hover:text-white hover:bg-[#333333] hover:scale-[1.01] hover:shadow-sm'
                    }
                  `}
                >
                  <Icon className="w-5 h-5 flex-shrink-0 transition-transform group-hover:scale-110" />
                  {!collapsed && (
                    <span className="truncate">{item.label}</span>
                  )}
                  {isActive && (
                    <div className="ml-auto w-1 h-5 bg-[#F08C00] rounded-full shadow-sm" />
                  )}
                </Link>
              </li>
            );
          })}
        </ul>
      </nav>

      {/* Collapse Toggle */}
      <button
        onClick={() => setCollapsed(!collapsed)}
        className="absolute -right-3 top-20 w-6 h-6 bg-primary rounded-full flex items-center justify-center shadow-lg hover:bg-[#F08C00] hover:scale-110 transition-all cursor-pointer focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2"
        aria-label={collapsed ? 'Expand sidebar' : 'Collapse sidebar'}
      >
        {collapsed ? (
          <ChevronRight className="w-3 h-3 text-[#212121]" />
        ) : (
          <ChevronLeft className="w-3 h-3 text-[#212121]" />
        )}
      </button>
    </aside>
  );
}
</file>

<file path="src/components/dashboard/metric-item.tsx">
import { cn } from '@/lib/utils';

interface MetricItemProps {
  label: string;
  value: string;
  color: 'success' | 'warning' | 'error' | 'info';
}

const colorStyles = {
  success: 'bg-green-500',
  warning: 'bg-orange-500',
  error: 'bg-red-500',
  info: 'bg-blue-500',
};

export function MetricItem({ label, value, color }: MetricItemProps) {
  return (
    <div className="flex items-center justify-between py-2">
      <div className="flex items-center gap-2">
        <span className={cn('w-2 h-2 rounded-full', colorStyles[color])} />
        <span className="text-sm text-muted-foreground">{label}</span>
      </div>
      <span className="text-sm font-semibold text-foreground">{value}</span>
    </div>
  );
}
</file>

<file path="src/components/dashboard/stat-card.tsx">
import { ReactNode } from 'react';
import { Info } from 'lucide-react';
import { Card, CardContent } from '@/components/ui/card';
import { cn } from '@/lib/utils';

interface StatCardProps {
  title: string;
  value: string | number;
  trend?: string;
  trendPositive?: boolean;
  icon?: ReactNode;
  badge?: string;
  className?: string;
}

export function StatCard({
  title,
  value,
  trend,
  trendPositive = true,
  icon,
  badge,
  className,
}: StatCardProps) {
  return (
    <Card
      className={cn(
        'rounded-2xl border border-gray-100 bg-white',
        // Dimensional layering - elevated shadow on hover
        'shadow-[0_2px_8px_rgba(0,0,0,0.04)]',
        'hover:shadow-[0_8px_24px_rgba(0,0,0,0.08)]',
        'hover:-translate-y-0.5',
        'transition-all duration-300 ease-out',
        'cursor-pointer',
        'focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2',
        className
      )}
    >
      <CardContent className="p-5">
        <div className="flex items-start justify-between mb-3">
          <div className="flex-1">
            <div className="flex items-center gap-2 mb-1">
              <p className="text-sm font-medium text-muted-foreground">{title}</p>
              <Info
                className="w-3.5 h-3.5 text-muted-foreground cursor-help transition-colors hover:text-primary"
              />
            </div>
            {badge && (
              <span className="inline-block px-2 py-0.5 text-xs font-medium rounded-lg bg-gray-100 text-gray-600 transition-colors hover:bg-gray-200">
                {badge}
              </span>
            )}
          </div>
          {icon && (
            <div className="text-muted-foreground transition-transform hover:scale-110">
              {icon}
            </div>
          )}
        </div>
        <div className="flex items-end justify-between">
          <p className="text-3xl font-bold text-foreground">{value}</p>
          {trend && (
            <span
              className={cn(
                'text-sm font-semibold px-2 py-1 rounded-lg',
                'transition-all duration-200 hover:scale-105',
                trendPositive
                  ? 'bg-gradient-to-r from-green-50 to-green-100/50 text-green-600 border border-green-200'
                  : 'bg-gradient-to-r from-red-50 to-red-100/50 text-red-600 border border-red-200'
              )}
            >
              {trend}
            </span>
          )}
        </div>
      </CardContent>
    </Card>
  );
}
</file>

<file path="src/hooks/use-auth.tsx">
'use client';

import { createContext, useContext, useEffect, useState } from 'react';
import { User } from '@supabase/supabase-js';
import { createClient } from '@/lib/supabase/client';
import type { AuthError } from '@/lib/supabase/auth';

interface AuthContextType {
  user: User | null;
  loading: boolean;
  signIn: (email: string, password: string) => Promise<void>;
  signUp: (email: string, password: string) => Promise<void>;
  signOut: () => Promise<void>;
  error: string | null;
}

const AuthContext = createContext<AuthContextType | undefined>(undefined);

export function AuthProvider({ children }: { children: React.ReactNode }) {
  const [user, setUser] = useState<User | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);
  const supabase = createClient();

  useEffect(() => {
    // Get initial session
    supabase.auth.getSession().then(({ data: { session } }) => {
      setUser(session?.user ?? null);
      setLoading(false);
    });

    // Listen for auth changes
    const {
      data: { subscription },
    } = supabase.auth.onAuthStateChange((_event, session) => {
      setUser(session?.user ?? null);
      setLoading(false);
    });

    return () => subscription.unsubscribe();
  }, [supabase]);

  const signIn = async (email: string, password: string) => {
    setError(null);
    const { error } = await supabase.auth.signInWithPassword({
      email,
      password,
    });

    if (error) {
      setError(error.message);
      throw error;
    }
  };

  const signUp = async (email: string, password: string) => {
    setError(null);
    const { error } = await supabase.auth.signUp({
      email,
      password,
    });

    if (error) {
      setError(error.message);
      throw error;
    }
  };

  const signOut = async () => {
    setError(null);
    const { error } = await supabase.auth.signOut();
    if (error) {
      setError(error.message);
      throw error;
    }
  };

  return (
    <AuthContext.Provider value={{ user, loading, signIn, signUp, signOut, error }}>
      {children}
    </AuthContext.Provider>
  );
}

export function useAuth() {
  const context = useContext(AuthContext);
  if (context === undefined) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  return context;
}
</file>

<file path="src/lib/actions/auth.ts">
'use server';

import { createServerClient } from '@/lib/supabase/server';
import { redirect } from 'next/navigation';

export interface AuthError {
  message: string;
  code?: string;
}

export async function signOutAction(locale: string) {
  const supabase = await createServerClient();
  const { error } = await supabase.auth.signOut();

  if (error) {
    throw { message: error.message, code: error.name } as AuthError;
  }

  redirect(`/${locale}/auth/login`);
}
</file>

<file path="src/lib/supabase/auth.ts">
import { createClient } from './client';

export interface AuthError {
  message: string;
  code?: string;
}

export interface SignUpData {
  email: string;
  password: string;
}

export interface SignInData {
  email: string;
  password: string;
}

export const signUp = async ({ email, password }: SignUpData) => {
  const supabase = createClient();
  const { data, error } = await supabase.auth.signUp({
    email,
    password,
  });

  if (error) {
    throw { message: error.message, code: error.name } as AuthError;
  }

  return data;
};

export const signIn = async ({ email, password }: SignInData) => {
  const supabase = createClient();
  const { data, error } = await supabase.auth.signInWithPassword({
    email,
    password,
  });

  if (error) {
    throw { message: error.message, code: error.name } as AuthError;
  }

  return data;
};

export const signOut = async () => {
  const supabase = createClient();
  const { error } = await supabase.auth.signOut();

  if (error) {
    throw { message: error.message, code: error.name } as AuthError;
  }
};

export const resetPassword = async (email: string) => {
  const supabase = createClient();
  const { error } = await supabase.auth.resetPasswordForEmail(email, {
    redirectTo: `${window.location.origin}/reset-password`,
  });

  if (error) {
    throw { message: error.message, code: error.name } as AuthError;
  }
};

export const updatePassword = async (newPassword: string) => {
  const supabase = createClient();
  const { error } = await supabase.auth.updateUser({
    password: newPassword,
  });

  if (error) {
    throw { message: error.message, code: error.name } as AuthError;
  }
};

export const getCurrentUser = async () => {
  const supabase = createClient();
  const { data: { user }, error } = await supabase.auth.getUser();

  if (error) {
    throw { message: error.message, code: error.name } as AuthError;
  }

  return user;
};
</file>

<file path="src/lib/design-tokens.ts">
/**
 * Design Tokens
 *
 * Centralized design constants based on dashboard reference.
 * Provides consistent styling across the application.
 */

// ============================================
// COLORS
// ============================================

export const colors = {
  // Primary - Yellow/Gold accent
  primary: {
    main: '#F59E0B',
    light: '#FBBF24',
    dark: '#F08C00',
    contrastText: '#212121',
  },

  // Backgrounds
  background: {
    default: '#F8F8F8',
    paper: '#FFFFFF',
    sidebar: '#212121',
  },

  // Text
  text: {
    primary: '#333333',
    secondary: '#666666',
    disabled: '#CCCCCC',
    hint: '#999999',
  },

  // Status
  success: '#4CAF50',
  warning: '#FF9800',
  error: '#F44336',
  info: '#2196F3',

  // Dividers
  divider: '#E0E0E0',
  border: '#E0E0E0',
} as const;

// ============================================
// TYPOGRAPHY
// ============================================

export const typography = {
  fontFamily: '"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',

  fontSize: {
    xs: '0.75rem',    // 12px
    sm: '0.875rem',   // 14px
    base: '1rem',     // 16px
    lg: '1.125rem',   // 18px
    xl: '1.5rem',     // 24px
    '2xl': '1.75rem', // 28px
    '3xl': '2.25rem', // 36px
  },

  fontWeight: {
    normal: 400,
    medium: 500,
    semibold: 600,
    bold: 700,
  },

  lineHeight: {
    tight: 1.25,
    normal: 1.5,
    relaxed: 1.75,
  },
} as const;

// ============================================
// SPACING
// ============================================

export const spacing = {
  xs: 4,    // 0.25rem
  sm: 8,    // 0.5rem
  md: 16,   // 1rem
  lg: 24,   // 1.5rem
  xl: 32,   // 2rem
  '2xl': 48,  // 3rem
  '3xl': 64,  // 4rem
} as const;

// ============================================
// BORDER RADIUS
// ============================================

export const borderRadius = {
  sm: 4,
  md: 8,
  lg: 12,
  xl: 16,
  full: 9999,
} as const;

// ============================================
// SHADOWS
// ============================================

export const shadows = {
  sm: '0 1px 2px rgba(0, 0, 0, 0.05)',
  md: '0 2px 8px rgba(0, 0, 0, 0.08)',
  lg: '0 4px 16px rgba(0, 0, 0, 0.1)',
  xl: '0 8px 32px rgba(0, 0, 0, 0.12)',
} as const;

// ============================================
// CARD STYLES
// ============================================

export const cardStyles = {
  borderRadius: borderRadius.lg,
  padding: spacing.lg,
  boxShadow: shadows.md,
  backgroundColor: colors.background.paper,
} as const;

// ============================================
// TRANSITIONS
// ============================================

export const transitions = {
  fast: '150ms cubic-bezier(0.4, 0, 0.2, 1)',
  normal: '200ms cubic-bezier(0.4, 0, 0.2, 1)',
  slow: '300ms cubic-bezier(0.4, 0, 0.2, 1)',
} as const;

// ============================================
// Z-INDEX
// ============================================

export const zIndex = {
  dropdown: 1000,
  sticky: 1020,
  fixed: 1030,
  modalBackdrop: 1040,
  modal: 1050,
  popover: 1060,
  tooltip: 1070,
} as const;
</file>

<file path="docs/code-standards.md">
# Code Standards & Development Guidelines

**Last Updated:** 2025-12-26
**Version:** 0.1.0
**Status:** Active

## Table of Contents
- [Code Style](#code-style)
- [TypeScript Standards](#typescript-standards)
- [React/Next.js Standards](#reactnextjs-standards)
- [Component Standards](#component-standards)
- [Naming Conventions](#naming-conventions)
- [File Organization](#file-organization)
- [Import Standards](#import-standards)
- [Testing Standards](#testing-standards)
- [Git Workflow](#git-workflow)
- [Code Review Guidelines](#code-review-guidelines)

## Code Style

### General Principles
- **KISS**: Keep It Simple, Stupid
- **DRY**: Don't Repeat Yourself
- **YAGNI**: You Aren't Gonna Need It

### Formatting
- Use **Prettier** for code formatting
- Configure in `.prettierrc` or project settings
- Format on save recommended
- Indentation: 2 spaces
- Semicolons: Required
- Quotes: Single quotes for JSX, double for strings
- Trailing commas: Required (except in single-line objects/arrays)

### Linting
- **ESLint** with Next.js configuration
- Run `npm run lint` before commits
- Fix all linting errors before PR
- Use ESLint auto-fix where possible

## TypeScript Standards

### Type Safety
- **Strict mode enabled** in `tsconfig.json`
- **No `any` types** unless absolutely necessary
- **Use `unknown` instead of `any`** for dynamic data
- **Type imports** for types only: `import { type MyType }`
- **Prefer interface** for object shapes
- **Prefer type** for unions, intersections, primitives

```typescript
// Good
interface User {
  id: string;
  name: string;
}

type Status = 'active' | 'inactive';

// Bad
type User = {
  id: any;
  name: any;
};
```

### Type Definitions
- **Centralize types** in `/src/types` directory
- **Export types** from barrel files
- **Use Supabase generated types** for database operations
- **Document complex types** with JSDoc comments

```typescript
/**
 * Represents a tenant in the system
 */
export interface Tenant {
  id: string;
  userId: string;
  fullName: string;
  phone: string;
  idNumber?: string;
  address?: string;
  dateOfBirth?: string;
  note?: string;
  createdAt: string;
  updatedAt: string;
}
```

### Type Assertions
- **Avoid type assertions** (`as`)
- **Use type guards** for runtime checks
- **Prefer type narrowing** with `in`, `typeof`, `instanceof`

```typescript
// Good
function isString(value: unknown): value is string {
  return typeof value === 'string';
}

// Bad
const str = value as string;
```

## React/Next.js Standards

### Component Structure
- **Functional components** only (no class components)
- **Use hooks** for state and side effects
- **Prefer composition** over inheritance
- **Props destructuring** in function signature

```typescript
// Good
interface ButtonProps {
  label: string;
  onClick: () => void;
  disabled?: boolean;
}

export function Button({ label, onClick, disabled = false }: ButtonProps) {
  return <button onClick={onClick} disabled={disabled}>{label}</button>;
}

// Bad
export function Button(props: any) {
  return <button onClick={props.onClick}>{props.label}</button>;
}
```

### Hooks Usage
- **Custom hooks** in `/src/hooks` directory
- **Prefix custom hooks** with `use`
- **Extract complex logic** into custom hooks
- **Follow rules of hooks** (no conditionals, loops)

```typescript
// Good
function useTenant(id: string) {
  const [tenant, setTenant] = useState<Tenant | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchTenant(id).then(setTenant).finally(() => setLoading(false));
  }, [id]);

  return { tenant, loading };
}
```

### Server Components vs Client Components
- **Use Server Components** by default (App Router default)
- **Add `use client`** directive only when needed:
  - Event handlers (onClick, onChange)
  - Browser APIs (localStorage, window)
  - React hooks (useState, useEffect)
  - Third-party libraries requiring browser context

```typescript
// Server Component (default)
export default async function TenantList() {
  const tenants = await getTenants();
  return <TenantGrid tenants={tenants} />;
}

// Client Component
'use client';

export function TenantForm({ onSubmit }: FormProps) {
  const [value, setValue] = useState('');
  return <form onSubmit={onSubmit}>...</form>;
}
```

### State Management
- **Server state**: TanStack Query (React Query)
- **Form state**: React Hook Form + Zod
- **URL state**: Next.js useSearchParams
- **Global UI state**: React Context (minimal usage)
- **Local component state**: useState

### Data Fetching
- **Server Components**: Direct async/await
- **Client Components**: TanStack Query
- **Loading states**: Show skeletons/spinners
- **Error handling**: Catch and display user-friendly errors

```typescript
// Server Component
export default async function DashboardPage() {
  const data = await fetchData();
  return <Dashboard data={data} />;
}

// Client Component with React Query
'use client';

export function TenantList() {
  const { data, isLoading, error } = useQuery({
    queryKey: ['tenants'],
    queryFn: getTenants,
  });

  if (isLoading) return <Skeleton />;
  if (error) return <ErrorMessage error={error} />;
  return <TenantGrid tenants={data} />;
}
```

## Component Standards

### shadcn/ui Components
- **Use existing shadcn/ui components** when possible
- **Extend components** via composition or variants
- **Follow component patterns** for custom components
- **Keep components in `/src/components/ui`**

```typescript
// Using shadcn/ui Button
import { Button } from '@/components/ui/button';

export function TenantActions({ onEdit, onDelete }) {
  return (
    <div className="flex gap-2">
      <Button onClick={onEdit} variant="outline">Edit</Button>
      <Button onClick={onDelete} variant="destructive">Delete</Button>
    </div>
  );
}
```

### Component Variants
- **Use CVA (class-variance-authority)** for variants
- **Define variants** at component level
- **Support size, color, style variants**

```typescript
const cardVariants = cva(
  "rounded-lg border bg-card text-card-foreground shadow-sm",
  {
    variants: {
      variant: {
        default: "bg-background",
        outlined: "border-2",
      },
      size: {
        sm: "p-4",
        md: "p-6",
        lg: "p-8",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "md",
    },
  }
);
```

### Props Interface
- **Define props interface** separately
- **Use descriptive prop names**
- **Provide sensible defaults**
- **Document complex props** with JSDoc

```typescript
interface TenantCardProps {
  tenant: Tenant;
  onEdit?: (id: string) => void;
  onDelete?: (id: string) => void;
  className?: string;
}

export function TenantCard({ tenant, onEdit, onDelete, className }: TenantCardProps) {
  // ...
}
```

## Naming Conventions

### Files and Directories
- **Components**: PascalCase (`TenantCard.tsx`)
- **Utilities**: camelCase (`formatDate.ts`)
- **Hooks**: camelCase with `use` prefix (`useTenant.ts`)
- **Types**: PascalCase types, camelCase files (`types/tenant.ts`)
- **Constants**: UPPER_SNAKE_CASE (`API_URL.ts`)

### Variables and Functions
- **Variables/Functions**: camelCase (`userName`, `fetchTenants`)
- **Classes/Interfaces/Types**: PascalCase (`Tenant`, `TenantService`)
- **Constants**: UPPER_SNAKE_CASE (`MAX_RETRIES`)
- **Private properties**: Underscore prefix (`_internalValue`)

### Component Names
- **File name = Component name**
- **Export default** for page components
- **Export named** for reusable components

```typescript
// TenantCard.tsx
export function TenantCard({ tenant }: Props) {
  // ...
}
```

### Database Names
- **Tables**: snake_case plural (`contract_templates`)
- **Columns**: snake_case (`created_at`, `user_id`)
- **Functions**: snake_case (`get_tenant_by_id`)

## File Organization

### Directory Structure
```
src/
├── app/                    # Next.js App Router
│   ├── [locale]/          # i18n routing
│   │   ├── dashboard/
│   │   ├── tenants/
│   │   └── layout.tsx
│   ├── api/               # API routes
│   ├── globals.css
│   └── layout.tsx
├── components/
│   ├── ui/                # shadcn/ui components
│   ├── tenants/           # Feature-specific components
│   │   ├── TenantCard.tsx
│   │   ├── TenantForm.tsx
│   │   └── index.ts
│   └── shared/            # Shared components
├── lib/
│   ├── supabase/          # Supabase clients
│   └── utils.ts           # Utilities
├── hooks/
│   ├── useTenant.ts
│   └── useContract.ts
├── types/
│   ├── database.ts        # Supabase types
│   └── tenant.ts          # Feature types
├── messages/              # i18n messages
│   ├── vi.json
│   └── en.json
├── i18n.ts                # i18n config
└── middleware.ts          # Next.js middleware
```

### Feature-Based Organization
- **Group by feature** (tenants, contracts, templates)
- **Keep related files together**
- **Use index files** for clean imports

```typescript
// tenants/index.ts
export { TenantCard } from './TenantCard';
export { TenantForm } from './TenantForm';
export { TenantList } from './TenantList';

// Usage
import { TenantCard, TenantForm } from '@/components/tenants';
```

## Import Standards

### Import Order
1. React/Next.js imports
2. Third-party libraries
3. Internal imports (alias)
4. Relative imports
5. Type-only imports

```typescript
import { useState } from 'react';
import { useRouter } from 'next/navigation';
import { useQuery } from '@tanstack/react-query';
import { Button } from '@/components/ui/button';
import { useTenant } from '@/hooks/useTenant';
import type { Tenant } from '@/types/tenant';
import { formatDate } from '../utils/formatDate';
```

### Path Aliases
- **Use `@/` alias** for src directory
- **Avoid relative imports** for deep nesting
- **Configure in `tsconfig.json`**

```typescript
// Good
import { Button } from '@/components/ui/button';
import { formatDate } from '@/lib/utils';

// Bad (for deep nesting)
import { Button } from '../../../components/ui/button';
import { formatDate } from '../../lib/utils';
```

### Absolute Imports
- **Prefer absolute imports** over relative
- **Use barrel exports** (`index.ts`) for clean imports
- **Keep import paths** short and readable

```typescript
// Good
import { TenantService } from '@/services/tenant';

// Acceptable for local files
import { TenantCard } from './TenantCard';
```

## Testing Standards

### Testing Strategy
- **Unit tests**: Business logic, utilities, hooks
- **Integration tests**: API routes, database operations
- **E2E tests**: Critical user flows
- **Component tests**: Interactive components

### Testing Tools (Future)
- **Jest/Vitest**: Unit and integration tests
- **React Testing Library**: Component tests
- **Playwright**: E2E tests
- **MSW**: API mocking

### Test Organization
```
src/
├── components/
│   ├── tenants/
│   │   ├── TenantCard.tsx
│   │   └── TenantCard.test.tsx
├── lib/
│   ├── utils.ts
│   └── utils.test.ts
└── __tests__/
    └── e2e/
        └── tenant-flow.spec.ts
```

### Test Writing Guidelines
- **Arrange-Act-Assert** pattern
- **Test user behavior**, not implementation
- **Use descriptive test names**
- **Mock external dependencies**

```typescript
describe('TenantService', () => {
  it('should create a new tenant', async () => {
    // Arrange
    const tenantData = { name: 'John Doe', phone: '123456789' };

    // Act
    const tenant = await createTenant(tenantData);

    // Assert
    expect(tenant).toHaveProperty('id');
    expect(tenant.name).toBe('John Doe');
  });
});
```

## Git Workflow

### Branch Naming
- **feature/** - New features (`feature/tenant-management`)
- **fix/** - Bug fixes (`fix/login-error`)
- **refactor/** - Code refactoring (`refactor/supabase-client`)
- **docs/** - Documentation (`docs/api-endpoints`)
- **chore/** - Maintenance (`chore/update-deps`)

### Commit Messages
- **Conventional Commits** format
- **Present tense**, imperative mood
- **Describe what and why**, not how

```
feat(tenants): add tenant search functionality

Implement search by name and phone number with debouncing.
Fixes #123

BREAKING CHANGE: Tenant list API now requires query param.
```

### Commit Types
- **feat**: New feature
- **fix**: Bug fix
- **docs**: Documentation changes
- **style**: Code style changes (formatting)
- **refactor**: Code refactoring
- **test**: Adding or updating tests
- **chore**: Maintenance tasks
- **perf**: Performance improvements

## Code Review Guidelines

### Review Checklist
- [ ] Code follows project standards
- [ ] TypeScript types are correct
- [ ] Components are reusable and testable
- [ ] Error handling is proper
- [ ] No hardcoded values or secrets
- [ ] Accessibility considered
- [ ] Performance optimized
- [ ] Tests added/updated
- [ ] Documentation updated

### Review Process
1. **Self-review** before requesting review
2. **Keep PRs small** (max 400 lines)
3. **Describe changes** in PR description
4. **Address all comments** or explain reasoning
5. **Request approval** from team member

## Related Documentation

- [Project Overview & PDR](./project-overview-pdr.md)
- [System Architecture](./system-architecture.md)
- [Codebase Summary](./codebase-summary.md)
- [Deployment Guide](./deployment-guide.md)
</file>

<file path="docs/codebase-summary.md">
# Codebase Summary

**Last Updated:** 2025-12-26
**Version:** 0.1.0
**Status:** Phase 1 Complete - Foundation Setup

## Overview

Easy Rent is a property rental management application built with Next.js 16, React 19, TypeScript, Supabase, and Tailwind CSS. This document provides a comprehensive summary of the codebase structure, key files, and implementation details.

## Project Structure

```
easy-rent-app/
├── src/
│   ├── app/                          # Next.js App Router
│   │   ├── globals.css               # Global styles and theme
│   │   ├── layout.tsx                # Root layout
│   │   └── page.tsx                  # Home page
│   ├── components/
│   │   └── ui/                       # shadcn/ui components
│   │       ├── button.tsx            # Button component
│   │       ├── card.tsx              # Card components
│   │       ├── dialog.tsx            # Dialog/Modal
│   │       ├── dropdown-menu.tsx     # Dropdown menu
│   │       ├── form.tsx              # Form components
│   │       ├── input.tsx             # Input field
│   │       ├── label.tsx             # Form label
│   │       ├── select.tsx            # Select dropdown
│   │       ├── table.tsx             # Table components
│   │       └── textarea.tsx          # Textarea field
│   ├── lib/
│   │   ├── supabase/                 # Supabase client utilities
│   │   │   ├── client.ts             # Browser client
│   │   │   ├── server.ts             # Server client
│   │   │   └── middleware.ts         # Middleware helpers
│   │   └── utils.ts                  # Utility functions
│   ├── messages/                     # i18n translations
│   │   ├── vi.json                   # Vietnamese
│   │   └── en.json                   # English
│   ├── types/
│   │   └── database.ts               # Database type definitions
│   ├── i18n.ts                       # i18n configuration
│   └── middleware.ts                 # Next.js middleware
├── docs/                             # Documentation
├── plans/                            # Project plans
├── .env.example                      # Environment template
├── components.json                   # shadcn/ui config
├── eslint.config.mjs                 # ESLint configuration
├── next.config.ts                    # Next.js configuration
├── package.json                      # Dependencies
├── postcss.config.mjs                # PostCSS configuration
└── tsconfig.json                     # TypeScript configuration
```

## Key Configuration Files

### package.json

**Dependencies**:
```json
{
  "name": "easy-rent-temp",
  "version": "0.1.0",
  "private": true
}
```

**Core Dependencies**:
- `next@16.1.1` - React framework
- `react@19.2.3` - UI library
- `@supabase/ssr@^0.8.0` - Supabase SSR integration
- `@supabase/supabase-js@^2.89.0` - Supabase client
- `@tanstack/react-query@^5.90.12` - Server state
- `next-intl@^4.6.1` - Internationalization
- `react-hook-form@^7.69.0` - Form management
- `zod@^4.2.1` - Schema validation

**UI Dependencies**:
- `tailwindcss@^4` - Styling
- `@radix-ui/*` - Headless UI primitives
- `lucide-react@^0.562.0` - Icons
- `class-variance-authority@^0.7.1` - Component variants

**Scripts**:
```bash
npm run dev      # Development server
npm run build    # Production build
npm run start    # Production server
npm run lint     # Lint code
```

### tsconfig.json

**Key Settings**:
```json
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "strict": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "jsx": "react-jsx",
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
```

### next.config.ts

```typescript
import type { NextConfig } from 'next';
import createNextIntlPlugin from 'next-intl/plugin';

const withNextIntl = createNextIntlPlugin('./src/i18n.ts');

const nextConfig: NextConfig = {
  /* config options here */
};

export default withNextIntl(nextConfig);
```

### components.json (shadcn/ui)

```json
{
  "style": "new-york",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "css": "src/app/globals.css",
    "baseColor": "neutral",
    "cssVariables": true
  },
  "iconLibrary": "lucide",
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  }
}
```

## Source Code Analysis

### Application Layer (`/src/app`)

#### globals.css

**Purpose**: Global styles and theme configuration using Tailwind CSS v4

**Key Features**:
- Tailwind CSS v4 with `@import "tailwindcss"`
- Custom animations via `tw-animate-css`
- Dark mode support via `@custom-variant dark`
- CSS custom properties for theming
- Design tokens (colors, spacing, radius)

**Theme Colors**:
- Primary: Amber-500 (`245 158 11`)
- Supports light and dark modes
- Full design system tokens (card, popover, sidebar, chart)

#### layout.tsx

**Purpose**: Root layout with font configuration

```typescript
export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en">
      <body className={`${geistSans.variable} ${geistMono.variable} antialiased`}>
        {children}
      </body>
    </html>
  );
}
```

**Note**: Needs to be updated for i18n and actual app metadata

#### page.tsx

**Purpose**: Home/landing page (currently Next.js default)

**Status**: Placeholder, needs to be replaced with actual landing page

### Supabase Integration (`/src/lib/supabase`)

#### client.ts

**Purpose**: Create Supabase browser client for client-side operations

```typescript
import { createBrowserClient } from '@supabase/ssr';
import { Database } from '@/types/database';

export const createClient = () =>
  createBrowserClient<Database>(
    process.env.NEXT_PUBLIC_SUPABASE_URL!,
    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
  );
```

**Usage**: Client components, interactive features

#### server.ts

**Purpose**: Create Supabase server client for Server Components

```typescript
import { createServerClient as createSupabaseServerClient } from '@supabase/ssr';
import { cookies } from 'next/headers';
import { Database } from '@/types/database';

export const createServerClient = async () => {
  const cookieStore = await cookies();

  return createSupabaseServerClient<Database>(
    process.env.NEXT_PUBLIC_SUPABASE_URL!,
    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,
    {
      cookies: {
        getAll() { return cookieStore.getAll(); },
        setAll(cookiesToSet) { /* ... */ },
      },
    }
  );
};
```

**Usage**: Server Components, API routes, Server Actions

#### middleware.ts

**Purpose**: Supabase session refresh in Next.js middleware

```typescript
export async function updateSession(request: NextRequest) {
  let response = NextResponse.next({ request: { headers: request.headers } });

  const supabase = createServerClient<Database>(...);

  return supabase;
}
```

**Usage**: Session management, auth refresh

### Type Definitions (`/src/types`)

#### database.ts

**Purpose**: TypeScript types for Supabase database schema

**Schema**:
```typescript
export interface Database {
  public: {
    Tables: {
      tenants: {
        Row: {
          id: string;
          user_id: string;
          full_name: string;
          phone: string;
          id_number: string | null;
          address: string | null;
          date_of_birth: string | null;
          note: string | null;
          created_at: string;
          updated_at: string;
        };
        Insert: Omit<Row, 'id' | 'created_at' | 'updated_at'>;
        Update: Partial<Insert>;
      };
      contract_templates: {
        Row: {
          id: string;
          user_id: string;
          name: string;
          content: string;
          created_at: string;
          updated_at: string;
        };
        Insert: Omit<Row, 'id' | 'created_at' | 'updated_at'>;
        Update: Partial<Insert>;
      };
      contracts: {
        Row: {
          id: string;
          user_id: string;
          tenant_id: string;
          template_id: string;
          tenant_snapshot: Json;
          template_snapshot: Json;
          generated_content: string;
          generated_at: string;
          created_at: string;
        };
        Insert: Omit<Row, 'id' | 'created_at'>;
        Update: Partial<Insert>;
      };
    };
  };
}
```

**Usage**: Type-safe database queries throughout the app

### Internationalization (`/src/messages`, `/src/i18n.ts`)

#### i18n.ts

**Purpose**: next-intl configuration for Server Components

```typescript
export default getRequestConfig(async ({ requestLocale }) => {
  let locale = await requestLocale;
  if (!locale) locale = 'vi';

  return {
    locale,
    messages: (await import(`./messages/${locale}.json`)).default,
  };
});
```

#### vi.json (Vietnamese)

```json
{
  "common": {
    "appName": "Easy Rent",
    "save": "Lưu",
    "cancel": "Hủy",
    // ...
  },
  "nav": {
    "dashboard": "Tổng quan",
    "tenants": "Khách thuê",
    // ...
  },
  "auth": {
    "signIn": "Đăng nhập",
    // ...
  }
}
```

#### en.json (English)

```json
{
  "common": {
    "appName": "Easy Rent",
    "save": "Save",
    "cancel": "Cancel",
    // ...
  }
}
```

### Middleware (`/src/middleware.ts`)

**Purpose**: Next.js middleware for i18n routing

```typescript
import createMiddleware from 'next-intl/middleware';

export default createMiddleware({
  locales: ['en', 'vi'],
  defaultLocale: 'vi',
});

export const config = {
  matcher: ['/((?!api|_next|_vercel|.*\\..*).*)'],
};
```

**Behavior**:
- Intercepts all requests except API, _next, _vercel, and static files
- Handles locale detection and routing
- Redirects root to default locale

### UI Components (`/src/components/ui`)

#### button.tsx

**Features**:
- Class Variance Authority (CVA) for variants
- Variants: default, destructive, outline, secondary, ghost, link
- Sizes: default, sm, lg, icon, icon-sm, icon-lg
- Support for `asChild` pattern (Radix Slot)

#### card.tsx

**Components**:
- Card: Container
- CardHeader: Header section
- CardTitle: Title
- CardDescription: Description
- CardContent: Content area
- CardFooter: Footer section

#### dialog.tsx

**Features**:
- Modal dialog using Radix UI
- Dialog, DialogTrigger, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter, DialogClose

#### form.tsx

**Features**:
- React Hook Form integration
- Form, FormField, FormItem, FormLabel, FormControl, FormMessage
- Designed for use with shadcn/ui components

#### input.tsx, textarea.tsx, label.tsx, select.tsx

**Features**:
- Form input components
- Consistent styling with design tokens
- Focus and error states

#### table.tsx

**Components**:
- Table, TableHeader, TableBody, TableFooter, TableRow, TableHead, TableCell
- Consistent styling and borders

#### dropdown-menu.tsx

**Features**:
- Dropdown menu using Radix UI
- DropdownMenu, DropdownMenuTrigger, DropdownMenuContent, DropdownMenuItem, DropdownMenuCheckboxItem, DropdownMenuRadioItem, DropdownMenuLabel, DropdownMenuSeparator, DropdownMenuShortcut

### Utilities (`/src/lib/utils.ts`)

**Purpose**: Utility functions

```typescript
import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
```

**Usage**: Merge and deduplicate Tailwind classes

## Environment Configuration

### .env.example

```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# App
NEXT_PUBLIC_APP_URL=
```

**Required Variables**:
- `NEXT_PUBLIC_SUPABASE_URL`: Supabase project URL
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`: Supabase anonymous key
- `NEXT_PUBLIC_APP_URL`: Application URL (e.g., http://localhost:3000)

## Code Quality Tools

### ESLint (eslint.config.mjs)

```javascript
import { defineConfig, globalIgnores } from "eslint/config";
import nextVitals from "eslint-config-next/core-web-vitals";
import nextTs from "eslint-config-next/typescript";

const eslintConfig = defineConfig([
  ...nextVitals,
  ...nextTs,
  globalIgnores([".next/**", "out/**", "build/**", "next-env.d.ts"]),
]);
```

**Configuration**: Next.js recommended TypeScript rules

### Prettier

**Status**: Prettier installed but no config file (using defaults)

**Recommendation**: Create `.prettierrc` for custom formatting rules

## Database Schema

### Tables

#### tenants

| Column | Type | Nullable | Description |
|--------|------|----------|-------------|
| id | uuid | No | Primary key |
| user_id | uuid | No | Foreign key to auth.users |
| full_name | text | No | Tenant full name |
| phone | text | No | Phone number |
| id_number | text | Yes | ID number |
| address | text | Yes | Address |
| date_of_birth | date | Yes | Date of birth |
| note | text | Yes | Additional notes |
| created_at | timestamp | No | Creation timestamp |
| updated_at | timestamp | No | Update timestamp |

#### contract_templates

| Column | Type | Nullable | Description |
|--------|------|----------|-------------|
| id | uuid | No | Primary key |
| user_id | uuid | No | Foreign key to auth.users |
| name | text | No | Template name |
| content | text | No | Markdown content |
| created_at | timestamp | No | Creation timestamp |
| updated_at | timestamp | No | Update timestamp |

#### contracts

| Column | Type | Nullable | Description |
|--------|------|----------|-------------|
| id | uuid | No | Primary key |
| user_id | uuid | No | Foreign key to auth.users |
| tenant_id | uuid | No | Foreign key to tenants |
| template_id | uuid | No | Foreign key to contract_templates |
| tenant_snapshot | jsonb | No | Tenant data snapshot |
| template_snapshot | jsonb | No | Template data snapshot |
| generated_content | text | No | Generated contract |
| generated_at | timestamp | No | Generation timestamp |
| created_at | timestamp | No | Creation timestamp |

## Current Implementation Status

### Phase 1: Foundation (Complete)

- [x] Next.js 16 project setup
- [x] TypeScript configuration
- [x] Tailwind CSS 4 setup
- [x] shadcn/ui component installation
- [x] Supabase client and server setup
- [x] Database type definitions
- [x] Internationalization setup (vi/en)
- [x] Middleware for i18n and auth
- [x] ESLint configuration
- [x] Documentation structure

### Next Steps (Phase 2)

- [ ] Authentication flow implementation
- [ ] Protected routes setup
- [ ] Tenant CRUD operations
- [ ] Contract template management
- [ ] Contract generation system
- [ ] Dashboard with analytics

## Development Workflow

### Getting Started

1. **Install dependencies**:
   ```bash
   npm install
   ```

2. **Set up environment**:
   ```bash
   cp .env.example .env.local
   # Add your Supabase credentials
   ```

3. **Run development server**:
   ```bash
   npm run dev
   ```

4. **Open browser**:
   ```
   http://localhost:3000
   ```

### Adding New Features

1. **Create database types** in `src/types/database.ts`
2. **Create Supabase queries** using typed client
3. **Build UI components** using shadcn/ui
4. **Implement forms** with React Hook Form + Zod
5. **Add translations** to `src/messages/*.json`
6. **Update documentation**

### Code Quality

- **Lint**: `npm run lint`
- **Type check**: `npx tsc --noEmit`
- **Format**: `npx prettier --write .`

## Key Dependencies Rationale

| Dependency | Purpose | Why |
|------------|---------|-----|
| Next.js 16 | Framework | Latest App Router, Server Components |
| React 19 | UI library | Latest features, better performance |
| Supabase | Backend | Auth, database, RLS, real-time |
| TanStack Query | State management | Server state, caching, sync |
| React Hook Form | Forms | Performance, DX, validation |
| Zod | Validation | Type-safe schemas, TypeScript-first |
| next-intl | i18n | Server Components support, simple |
| shadcn/ui | Components | Customizable, accessible, modern |
| Tailwind CSS 4 | Styling | Latest features, CSS variables |

## Known Limitations

1. **No authentication UI** - Only Supabase client setup
2. **No database migrations** - Schema defined in types only
3. **No tests** - Testing framework not set up
4. **No API routes** - Using Server Components instead
5. **No E2E tests** - Playwright not configured
6. **No CI/CD** - GitHub Actions not set up

## Related Documentation

- [Project Overview & PDR](./project-overview-pdr.md)
- [Code Standards](./code-standards.md)
- [System Architecture](./system-architecture.md)
- [Deployment Guide](./deployment-guide.md)
- [Design Guidelines](./design-guidelines.md)
- [Project Roadmap](./project-roadmap.md)

## Change Log

### 2025-12-26 - Initial Documentation
- Created codebase summary
- Documented all Phase 1 setup
- Analyzed project structure
- Identified next steps
</file>

<file path="docs/deployment-guide.md">
# Deployment Guide

**Last Updated:** 2025-12-26
**Version:** 0.1.0
**Status:** Phase 1 Complete

## Table of Contents
- [Overview](#overview)
- [Prerequisites](#prerequisites)
- [Environment Setup](#environment-setup)
- [Supabase Setup](#supabase-setup)
- [Vercel Deployment](#vercel-deployment)
- [Alternative Deployment](#alternative-deployment)
- [Post-Deployment](#post-deployment)
- [Monitoring & Maintenance](#monitoring--maintenance)
- [Troubleshooting](#troubleshooting)

## Overview

This guide covers deploying Easy Rent to production using **Vercel** (recommended) and **Supabase** for the backend.

### Deployment Architecture

```
┌─────────────────────────────────────────────────────────┐
│                    Vercel (Hosting)                      │
│  ┌─────────────────────────────────────────────────┐   │
│  │  Next.js Application (Server Components)        │   │
│  │  - Edge Network                                  │   │
│  │  - Automatic HTTPS                               │   │
│  │  - Zero-downtime deploys                          │   │
│  └─────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────┘
                         ↓ API Calls
┌─────────────────────────────────────────────────────────┐
│                    Supabase (Backend)                    │
│  ┌─────────────────────────────────────────────────┐   │
│  │  PostgreSQL Database                            │   │
│  │  - RLS policies                                  │   │
│  │  - Automatic backups                             │   │
│  └─────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────┐   │
│  │  Supabase Auth                                   │   │
│  │  - JWT sessions                                  │   │
│  │  - OAuth providers                               │   │
│  └─────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────┘
```

## Prerequisites

### Required Accounts

1. **Vercel Account**
   - Sign up at https://vercel.com
   - Connect GitHub account

2. **Supabase Account**
   - Sign up at https://supabase.com
   - Create a new project

### Required Tools

- **Node.js** 18+ installed locally
- **Git** for version control
- **GitHub** account (for Vercel integration)

## Environment Setup

### 1. Clone Repository

```bash
git clone <your-repository-url>
cd easy-rent-app
```

### 2. Install Dependencies

```bash
npm install
```

### 3. Create Environment File

```bash
cp .env.example .env.local
```

## Supabase Setup

### 1. Create Project

1. Go to https://supabase.com
2. Click **"New Project"**
3. Configure:
   - **Organization**: Select or create
   - **Name**: `easy-rent-production` (or similar)
   - **Database Password**: Use a strong password (save it!)
   - **Region**: Choose closest to your users (e.g., Singapore for Vietnam)
4. Click **"Create new project"**
5. Wait for project to be provisioned (~2 minutes)

### 2. Get Credentials

Navigate to your Supabase project → **Settings** → **API**:

```
Project URL: https://xxxxx.supabase.co
Anon Key: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### 3. Update .env.local

```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# App
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

### 4. Create Database Tables

Go to **SQL Editor** in Supabase and run:

```sql
-- Tenants table
CREATE TABLE tenants (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
  full_name TEXT NOT NULL,
  phone TEXT NOT NULL,
  id_number TEXT,
  address TEXT,
  date_of_birth DATE,
  note TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Contract templates table
CREATE TABLE contract_templates (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
  name TEXT NOT NULL,
  content TEXT NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Contracts table
CREATE TABLE contracts (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
  tenant_id UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE,
  template_id UUID NOT NULL REFERENCES contract_templates(id) ON DELETE CASCADE,
  tenant_snapshot JSONB NOT NULL,
  template_snapshot JSONB NOT NULL,
  generated_content TEXT NOT NULL,
  generated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Updated at trigger function
CREATE OR REPLACE FUNCTION update_updated_at()
RETURNS TRIGGER AS $$
BEGIN
  NEW.updated_at = NOW();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

-- Add triggers
CREATE TRIGGER update_tenants_updated_at
BEFORE UPDATE ON tenants
FOR EACH ROW
EXECUTE FUNCTION update_updated_at();

CREATE TRIGGER update_contract_templates_updated_at
BEFORE UPDATE ON contract_templates
FOR EACH ROW
EXECUTE FUNCTION update_updated_at();
```

### 5. Enable Row Level Security (RLS)

```sql
-- Enable RLS
ALTER TABLE tenants ENABLE ROW LEVEL SECURITY;
ALTER TABLE contract_templates ENABLE ROW LEVEL SECURITY;
ALTER TABLE contracts ENABLE ROW LEVEL SECURITY;

-- Tenants policies
CREATE POLICY "Users can view their own tenants"
ON tenants FOR SELECT
USING (auth.uid() = user_id);

CREATE POLICY "Users can insert their own tenants"
ON tenants FOR INSERT
WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update their own tenants"
ON tenants FOR UPDATE
USING (auth.uid() = user_id);

CREATE POLICY "Users can delete their own tenants"
ON tenants FOR DELETE
USING (auth.uid() = user_id);

-- Contract templates policies
CREATE POLICY "Users can view their own templates"
ON contract_templates FOR SELECT
USING (auth.uid() = user_id);

CREATE POLICY "Users can insert their own templates"
ON contract_templates FOR INSERT
WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update their own templates"
ON contract_templates FOR UPDATE
USING (auth.uid() = user_id);

CREATE POLICY "Users can delete their own templates"
ON contract_templates FOR DELETE
USING (auth.uid() = user_id);

-- Contracts policies
CREATE POLICY "Users can view their own contracts"
ON contracts FOR SELECT
USING (auth.uid() = user_id);

CREATE POLICY "Users can insert their own contracts"
ON contracts FOR INSERT
WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can delete their own contracts"
ON contracts FOR DELETE
USING (auth.uid() = user_id);
```

### 6. Generate TypeScript Types

1. Install Supabase CLI (if not installed):
   ```bash
   # macOS
   brew install supabase/tap/supabase

   # Or with npm
   npm install -g supabase
   ```

2. Generate types:
   ```bash
   supabase gen types typescript --project-id YOUR_PROJECT_ID > src/types/database.ts
   ```

Or use the Supabase dashboard → **API** → **TypeScript** → **Copy** and paste into `src/types/database.ts`.

## Vercel Deployment

### 1. Deploy to Vercel

**Option A: Via Vercel CLI**

```bash
# Install Vercel CLI
npm i -g vercel

# Login
vercel login

# Deploy
vercel

# Follow prompts:
# - Link to existing project? No
# - Project name: easy-rent-app
# - Directory: . (current)
# - Override settings? No
```

**Option B: Via Vercel Dashboard**

1. Go to https://vercel.com/new
2. Import your GitHub repository
3. Configure:
   - **Framework Preset**: Next.js
   - **Root Directory**: `./`
   - **Build Command**: `npm run build`
   - **Output Directory**: `.next`
4. Click **Deploy**

### 2. Add Environment Variables in Vercel

1. Go to your project in Vercel
2. Navigate to **Settings** → **Environment Variables**
3. Add variables:

| Name | Value | Environment |
|------|-------|-------------|
| `NEXT_PUBLIC_SUPABASE_URL` | Your Supabase URL | Production, Preview |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | Your Supabase Anon Key | Production, Preview |
| `NEXT_PUBLIC_APP_URL` | Your Vercel domain (e.g., `https://easy-rent-app.vercel.app`) | Production, Preview |

### 3. Redeploy

After adding environment variables:

1. Go to **Deployments**
2. Click **...** on latest deployment
3. Click **Redeploy**

### 4. Configure Custom Domain (Optional)

1. Go to **Settings** → **Domains**
2. Add your domain (e.g., `easyrent.vn`)
3. Update DNS records as instructed
4. Wait for SSL certificate (automatic)

## Alternative Deployment

### Netlify

1. **Install Netlify CLI**:
   ```bash
   npm install -g netlify-cli
   ```

2. **Build**:
   ```bash
   npm run build
   ```

3. **Deploy**:
   ```bash
   netlify deploy --prod
   ```

4. **Configure**:
   - Build command: `npm run build`
   - Publish directory: `.next`
   - Framework: Next.js

### Self-Hosted (Docker)

**Dockerfile**:
```dockerfile
FROM node:18-alpine AS base

# Dependencies
FROM base AS deps
WORKDIR /app
COPY package*.json ./
RUN npm ci

# Builder
FROM base AS builder
WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY . .
RUN npm run build

# Runner
FROM base AS runner
WORKDIR /app
ENV NODE_ENV production
COPY --from=builder /app/public ./public
COPY --from=builder /app/.next/standalone ./
COPY --from=builder /app/.next/static ./.next/static

EXPOSE 3000
CMD ["node", "server.js"]
```

**docker-compose.yml**:
```yaml
version: '3.8'
services:
  app:
    build: .
    ports:
      - "3000:3000"
    environment:
      - NEXT_PUBLIC_SUPABASE_URL=${SUPABASE_URL}
      - NEXT_PUBLIC_SUPABASE_ANON_KEY=${SUPABASE_ANON_KEY}
```

**Deploy**:
```bash
docker-compose up -d
```

## Post-Deployment

### 1. Verify Deployment

1. **Visit your URL**: Open `https://your-domain.com`
2. **Check console**: No errors
3. **Test auth flow**: Create account, login
4. **Test database**: Create tenant, view list

### 2. Set Up Monitoring

**Vercel Analytics** (included):
1. Go to **Analytics** tab
2. Enable Web Vitals
3. Monitor performance

**Supabase Logs**:
1. Go to Supabase dashboard
2. **Logs** → **Database** or **API**
3. Monitor queries and errors

### 3. Configure Email (Supabase Auth)

1. Go to Supabase → **Authentication** → **URL Configuration**
2. Set **Site URL**: `https://your-domain.com`
3. Set **Redirect URLs**: `https://your-domain.com/auth/callback`

4. Go to **Email Templates** → **Confirm Signup**
5. Customize email template (Vietnamese/English)

### 4. Enable Supabase Auth

1. Go to **Authentication** → **Providers**
2. Enable **Email** provider
3. Configure:
   - Enable email confirmations: **Yes** (recommended)
   - Double opt-in: **Yes** (recommended)
   - SMTP: Use default Supabase SMTP or configure custom

## Monitoring & Maintenance

### Performance Monitoring

**Vercel**:
- Web Vitals (LCP, FID, CLS)
- Build times
- Edge function logs

**Supabase**:
- Database query performance
- API response times
- Database size

### Database Maintenance

**Regular Backups** (Supabase handles this):
- Daily backups included
- Point-in-time recovery (Pro plan)

**Index Optimization** (as needed):
```sql
-- Example: Add index for faster tenant search
CREATE INDEX idx_tenants_user_id ON tenants(user_id);
CREATE INDEX idx_tenants_full_name ON tenants USING gin(to_tsvector('english', full_name));
```

**Database Size Monitoring**:
```sql
-- Check table sizes
SELECT
  schemaname,
  tablename,
  pg_size_pretty(pg_total_relation_size(schemaname||'.'||tablename)) AS size
FROM pg_tables
WHERE schemaname = 'public'
ORDER BY pg_total_relation_size(schemaname||'.'||tablename) DESC;
```

### Log Management

**Vercel Logs**:
- Real-time logs in dashboard
- Download logs for analysis
- Set up log drains (external logging)

**Supabase Logs**:
- API logs
- Database logs
- Auth logs

### Security Best Practices

1. **Regular Updates**:
   ```bash
   npm audit
   npm update
   ```

2. **Environment Variable Rotation**:
   - Rotate Supabase keys periodically
   - Use different keys for staging/production

3. **RLS Review**:
   - Regularly audit RLS policies
   - Test with different user roles

4. **Rate Limiting** (Supabase):
   - Configure rate limits in dashboard
   - Monitor API usage

## Troubleshooting

### Common Issues

#### 1. Build Failures

**Error**: `Cannot find module 'xxx'`

**Solution**:
```bash
rm -rf node_modules package-lock.json
npm install
```

#### 2. Environment Variables Not Working

**Error**: `SUPABASE_URL is not defined`

**Solution**:
- Verify variable names (no spaces)
- Redeploy after adding variables
- Check for typos in variable names

#### 3. Supabase Connection Refused

**Error**: `Failed to fetch`

**Solution**:
- Check RLS policies
- Verify Supabase URL and key
- Check Supabase project status (not paused)

#### 4. i18n Not Working

**Error**: Default locale not applied

**Solution**:
- Check middleware configuration
- Verify `src/i18n.ts` setup
- Check locale files exist

#### 5. Authentication Failing

**Error**: Session not created

**Solution**:
- Check email confirmation settings
- Verify redirect URLs in Supabase
- Check site URL configuration

### Debug Mode

**Vercel**:
```bash
vercel logs --follow
```

**Supabase**:
- Enable debug mode in console
- Check network tab in browser DevTools

### Getting Help

- **Vercel Docs**: https://vercel.com/docs
- **Supabase Docs**: https://supabase.com/docs
- **Next.js Docs**: https://nextjs.org/docs
- **GitHub Issues**: Create issue in repository

## Deployment Checklist

### Pre-Deployment
- [ ] All environment variables set
- [ ] Database tables created
- [ ] RLS policies enabled
- [ ] TypeScript types generated
- [ ] Build succeeds locally
- [ ] Linting passes
- [ ] No sensitive data in code

### Deployment
- [ ] Repository pushed to GitHub
- [ ] Vercel project created
- [ ] Environment variables configured
- [ ] Deployment successful
- [ ] Custom domain configured (if needed)

### Post-Deployment
- [ ] Application loads in browser
- [ ] Auth flow works
- [ ] Database operations work
- [ ] i18n works (vi/en)
- [ ] No console errors
- [ ] Monitoring configured
- [ ] Backup strategy confirmed
- [ ] Documentation updated

## Related Documentation

- [Project Overview & PDR](./project-overview-pdr.md)
- [Code Standards](./code-standards.md)
- [System Architecture](./system-architecture.md)
- [Codebase Summary](./codebase-summary.md)

## Change Log

### 2025-12-26 - Initial Documentation
- Created deployment guide
- Documented Vercel + Supabase setup
- Added troubleshooting section
- Created deployment checklist
</file>

<file path="docs/design-guidelines.md">
# Design Guidelines

**Last Updated:** 2025-12-26
**Version:** 0.1.0
**Status:** Phase 1 Complete

## Table of Contents
- [Design Philosophy](#design-philosophy)
- [Visual Identity](#visual-identity)
- [Color System](#color-system)
- [Typography](#typography)
- [Layout & Spacing](#layout--spacing)
- [Component Design](#component-design)
- [UI Patterns](#ui-patterns)
- [Accessibility](#accessibility)
- [Responsive Design](#responsive-design)
- [Animation & Motion](#animation--motion)

## Design Philosophy

Easy Rent follows a **clean, functional, and user-centric** design philosophy focused on the Vietnamese rental market.

### Core Principles

1. **Simplicity First**
   - Clean interfaces with minimal distractions
   - Clear visual hierarchy
   - Intuitive navigation

2. **Efficiency**
   - Reduce clicks to complete tasks
   - Smart defaults and automation
   - Quick actions for common tasks

3. **Trust & Professionalism**
   - Consistent design language
   - Clear feedback for user actions
   - Professional appearance for contracts

4. **Localization**
   - Vietnamese language first
   - Cultural considerations
   - Local payment formats (VND)

5. **Accessibility**
   - WCAG 2.1 Level AA compliance
   - Keyboard navigation
   - Screen reader support

## Visual Identity

### Brand Colors

**Primary Color**: Amber/Yellow
- Represents warmth, trust, and energy
- High contrast for accessibility
- Works well in light and dark modes

**Secondary Colors**: Neutral grays
- Provides visual hierarchy
- Reduces cognitive load
- Professional appearance

### Design Style

**Modern & Minimal**
- Flat design with subtle shadows
- Rounded corners for friendliness
- Consistent spacing and alignment

**Professional Yet Approachable**
- Clean typography
- Purposeful use of color
- Generous white space

## Color System

### Color Palette

Based on Tailwind CSS v4 with HSL color values:

#### Light Mode
```css
:root {
  --primary: 245 158 11;          /* Amber-500 */
  --background: 250 250 250;      /* Gray-50 */
  --foreground: 15 15 15;         /* Gray-950 */
  --card: 255 255 255;            /* White */
  --card-foreground: 15 15 15;    /* Gray-950 */
  --popover: 255 255 255;         /* White */
  --popover-foreground: 15 15 15; /* Gray-950 */
  --primary-foreground: 15 15 15; /* Gray-950 */
  --secondary: 230 230 230;       /* Gray-200 */
  --secondary-foreground: 15 15 15; /* Gray-950 */
  --muted: 240 240 240;           /* Gray-300 */
  --muted-foreground: 115 115 115; /* Gray-500 */
  --accent: 245 158 11;           /* Amber-500 */
  --accent-foreground: 15 15 15;  /* Gray-950 */
  --destructive: 220 38 38;       /* Red-600 */
  --border: 220 220 220;          /* Gray-300 */
  --input: 220 220 220;           /* Gray-300 */
  --ring: 245 158 11;             /* Amber-500 */
}
```

#### Dark Mode
```css
.dark {
  --background: 15 15 15;         /* Gray-950 */
  --foreground: 250 250 250;      /* Gray-50 */
  --card: 25 25 25;               /* Gray-900 */
  --card-foreground: 250 250 250; /* Gray-50 */
  --popover: 25 25 25;            /* Gray-900 */
  --popover-foreground: 250 250 250; /* Gray-50 */
  --primary: 245 158 11;          /* Amber-500 */
  --primary-foreground: 15 15 15; /* Gray-950 */
  --secondary: 45 45 45;          /* Gray-800 */
  --secondary-foreground: 250 250 250; /* Gray-50 */
  --muted: 45 45 45;              /* Gray-800 */
  --muted-foreground: 180 180 180; /* Gray-400 */
  --accent: 245 158 11;           /* Amber-500 */
  --accent-foreground: 15 15 15;  /* Gray-950 */
  --destructive: 240 100 100;     /* Red-500 */
  --border: 45 45 45;             /* Gray-800 */
  --input: 45 45 45;              /* Gray-800 */
  --ring: 245 158 11;             /* Amber-500 */
}
```

### Semantic Colors

| Purpose | Light Mode | Dark Mode | Usage |
|---------|-----------|-----------|-------|
| Primary | Amber-500 | Amber-500 | CTAs, links, important actions |
| Secondary | Gray-200 | Gray-800 | Secondary actions, less important elements |
| Destructive | Red-600 | Red-500 | Delete, danger, errors |
| Success | Green-600 | Green-500 | Success messages, confirmations |
| Warning | Yellow-600 | Yellow-500 | Warnings, important notices |
| Info | Blue-600 | Blue-500 | Information, help text |

### Color Usage Guidelines

**Primary Color (Amber)**
- Use for main CTAs (buttons, links)
- Use for active states
- Use for important highlights
- Avoid overuse (max 20% of screen)

**Accent Colors**
- Use sparingly for emphasis
- Maintain semantic meaning
- Ensure sufficient contrast (WCAG AA)

**Neutral Colors**
- Use for text hierarchy
- Create visual separation
- Support content, not distract

## Typography

### Font Families

**Sans Serif (Primary)**: Geist Sans
```css
font-family: var(--font-geist-sans);
```
- Used for all body text
- Modern, clean, highly readable
- Excellent screen rendering

**Mono (Secondary)**: Geist Mono
```css
font-family: var(--font-geist-mono);
```
- Used for code, numbers, data
- Tabular figures for alignment
- Technical information

### Type Scale

| Scale | Size | Weight | Line Height | Usage |
|-------|------|--------|-------------|-------|
| xs | 0.75rem (12px) | 400 | 1rem | Captions, labels |
| sm | 0.875rem (14px) | 400 | 1.25rem | Small text, helper text |
| base | 1rem (16px) | 400 | 1.5rem | Body text, default |
| lg | 1.125rem (18px) | 400 | 1.75rem | Large body, subheadings |
| xl | 1.25rem (20px) | 600 | 1.75rem | Section headings |
| 2xl | 1.5rem (24px) | 600 | 2rem | Page headings |
| 3xl | 1.875rem (30px) | 700 | 2.25rem | Hero headings |
| 4xl | 2.25rem (36px) | 700 | 2.5rem | Display headings |

### Font Weights

| Weight | Value | Usage |
|--------|-------|-------|
| Regular | 400 | Body text, paragraphs |
| Medium | 500 | Emphasized text, subheadings |
| Semibold | 600 | Headings, buttons, links |
| Bold | 700 | Display headings, emphasis |

### Typography Guidelines

**Hierarchy**
- Use size and weight to establish hierarchy
- Maintain consistent spacing
- Limit to 3-4 levels per page

**Readability**
- Minimum 16px for body text
- Line height 1.5 for body text
- Max 75 characters per line

**Emphasis**
- Use weight or color for emphasis
- Avoid ALL CAPS (except acronyms)
- Use italics sparingly

## Layout & Spacing

### Spacing Scale

Based on Tailwind spacing (0.25rem increments):

| Token | Value | Usage |
|-------|-------|-------|
| 0 | 0px | No spacing |
| 1 | 0.25rem (4px) | Tight spacing, icon padding |
| 2 | 0.5rem (8px) | Compact spacing, related items |
| 3 | 0.75rem (12px) | Default spacing, small gaps |
| 4 | 1rem (16px) | Standard spacing, padding |
| 5 | 1.25rem (20px) | Comfortable spacing |
| 6 | 1.5rem (24px) | Section spacing |
| 8 | 2rem (32px) | Large gaps, section separation |
| 10 | 2.5rem (40px) | Extra large spacing |
| 12 | 3rem (48px) | Major section breaks |

### Container Widths

| Breakpoint | Max Width | Usage |
|------------|-----------|-------|
| sm | 640px | Small containers |
| md | 768px | Default content |
| lg | 1024px | Wide content |
| xl | 1280px | Maximum content |
| 2xl | 1536px | Ultra wide |

### Grid System

**12-Column Grid**
- Consistent with Tailwind
- Responsive breakpoints
- Flexible layout options

**Grid Usage**
```
Desktop: 12 columns, 24px gutters
Tablet:  8 columns, 16px gutters
Mobile:  4 columns, 16px gutters
```

### Layout Patterns

**Container Layout**
```css
.container {
  width: 100%;
  max-width: 1280px;
  margin: 0 auto;
  padding: 0 1rem;
}
```

**Section Spacing**
```css
.section {
  padding: 4rem 1rem;  /* Mobile */
}

@media (min-width: 768px) {
  .section {
    padding: 6rem 2rem;  /* Desktop */
  }
}
```

## Component Design

### Button Styles

**Variants** (shadcn/ui Button component):
- `default`: Primary action (amber background)
- `secondary`: Secondary action (gray background)
- `outline`: Tertiary action (border only)
- `ghost`: Minimal action (hover state only)
- `destructive`: Dangerous action (red)
- `link`: Link style (underline)

**Sizes**:
- `icon-sm`: 32px (small icons)
- `sm`: 32px height
- `default`: 36px height
- `lg`: 40px height
- `icon`: 36px (standard icons)
- `icon-lg`: 40px (large icons)

**Button Guidelines**:
- Use `default` for primary CTAs
- Use `outline` for secondary actions
- Use `ghost` for icon-only buttons
- Use `destructive` for delete/danger
- Limit to 1-2 primary buttons per screen

### Card Styles

**Card Components**:
- `Card`: Container with border and shadow
- `CardHeader`: Header section
- `CardTitle`: Title text
- `CardDescription`: Subtitle/description
- `CardContent`: Main content area
- `CardFooter`: Footer actions

**Card Usage**:
- Group related information
- Consistent padding (1.5rem default)
- Subtle border and shadow
- Hover effects for interactive cards

### Form Components

**Form Guidelines**:
- Clear labels above inputs
- Helper text below inputs
- Error messages in red
- Validation on blur
- Required field indicators

**Input Styles**:
- `input`: Standard text input
- `textarea`: Multi-line text
- `select`: Dropdown selection
- `checkbox`: Boolean choices
- `radio`: Single choice from options

### Table Styles

**Table Components**:
- `Table`: Container
- `TableHeader`: Header row
- `TableBody`: Data rows
- `TableRow`: Individual row
- `TableHead`: Header cell
- `TableCell`: Data cell
- `TableFooter`: Summary row

**Table Guidelines**:
- Zebra striping for readability
- Hover effects on rows
- Sort indicators in headers
- Pagination for large datasets
- Responsive on mobile (stack or scroll)

## UI Patterns

### Navigation Patterns

**Sidebar Navigation**:
- Left sidebar (desktop)
- Drawer/bottom nav (mobile)
- Active state indication
- Icon + label for clarity

**Breadcrumb Navigation**:
- Show current location
- Clickable path
- Truncate long paths

**Tabs**:
- Group related content
- Limit to 5-7 tabs
- Use icons for quick recognition

### Feedback Patterns

**Loading States**:
- Skeleton screens for content
- Spinner for actions
- Progress bars for uploads

**Success Messages**:
- Green accent color
- Auto-dismiss after 5 seconds
- Clear action confirmation

**Error Messages**:
- Red accent color
- Specific error description
- Action to resolve (if possible)

**Confirmation Dialogs**:
- Clear action description
- Wording shows consequences
- Cancel button is default/secondary

### Data Display

**Empty States**:
- Friendly illustration or icon
- Clear message
- Action to resolve

**Lists**:
- Consistent item structure
- Hover effects for interactive items
- Visual separation between items

**Cards**:
- Group related information
- Consistent structure
- Clear hierarchy

## Accessibility

### Color Contrast

**WCAG AA Requirements**:
- Normal text: 4.5:1 contrast ratio
- Large text (18px+): 3:1 contrast ratio
- UI components: 3:1 contrast ratio

**Our Colors** (verified):
- Primary (Amber-500) on white: 4.5:1 ✓
- Gray-500 on white: 7.1:1 ✓
- Gray-950 on white: 16.5:1 ✓

### Keyboard Navigation

**Tab Order**:
- Logical tab sequence
- Visible focus indicators
- Skip links for main content

**Focus Styles**:
- Amber ring (2px)
- High contrast
- Consistent across browsers

### Screen Readers

**Semantic HTML**:
- Proper heading hierarchy
- ARIA labels where needed
- Alt text for images
- Meaningful link text

**Live Regions**:
- Announce dynamic changes
- Error messages
- Success confirmations

## Responsive Design

### Breakpoints

| Breakpoint | Min Width | Target Devices |
|------------|-----------|----------------|
| sm | 640px | Large phones, small tablets |
| md | 768px | Tablets portrait |
| lg | 1024px | Tablets landscape, small laptops |
| xl | 1280px | Desktops |
| 2xl | 1536px | Large screens |

### Mobile-First Approach

**Strategy**:
1. Design for mobile (320px+)
2. Enhance for tablet (768px+)
3. Optimize for desktop (1024px+)

**Mobile Considerations**:
- Single column layouts
- Large touch targets (44px min)
- Simplified navigation
- Essential content only

### Responsive Patterns

**Navigation**:
- Mobile: Bottom nav or hamburger menu
- Tablet: Sidebar or top nav
- Desktop: Sidebar with full labels

**Tables**:
- Mobile: Stack cards or horizontal scroll
- Tablet+: Full table

**Forms**:
- Mobile: Single column, full width
- Tablet+: Multi-column where appropriate

## Animation & Motion

### Animation Principles

**Purpose**:
- Guide user attention
- Provide feedback
- Enhance understanding
- Create delight

**Guidelines**:
- Subtle and purposeful
- Fast (200-300ms)
- Ease-in-out for natural feel
- Respect user's motion preferences

### Animation Types

**Transitions**:
- Hover states: 150ms
- Focus states: 150ms
- Modal open: 200ms
- Page transitions: 300ms

**Animations** (using tw-animate-css):
- Fade in/out
- Slide up/down
- Scale in/out
- Spin (loading)

### Loading States

**Skeleton Loaders**:
- Gray background blocks
- Shimmer animation
- Match content layout

**Spinners**:
- Amber color
- Small (16-20px)
- For brief waits (<3s)

## Iconography

### Icon Library

**Lucide React** (primary):
- Consistent style
- Optimized SVG
- 1000+ icons
- 2px stroke

### Icon Usage

**Sizing**:
- xs: 12px (tiny)
- sm: 16px (default)
- md: 20px (medium)
- lg: 24px (large)
- xl: 32px (extra large)

**Guidelines**:
- Use meaningful icons
- Maintain consistent stroke
- Pair with labels (except common actions)
- Consider cultural context

### Common Icons

| Action | Icon | Usage |
|--------|------|-------|
| Add | Plus | Create new items |
| Edit | Pencil | Modify existing |
| Delete | Trash | Remove items |
| Save | Floppy Disk | Persist changes |
| Search | Magnifying Glass | Find content |
| Filter | Funnel | Refine list |
| Menu | Hamburger | Navigation |
| Close | X | Dismiss dialogs |
| Check | Checkmark | Confirm/success |
| Alert | Triangle | Warning |

## Related Documentation

- [Project Overview & PDR](./project-overview-pdr.md)
- [Code Standards](./code-standards.md)
- [System Architecture](./system-architecture.md)
- [Deployment Guide](./deployment-guide.md)
- [Project Roadmap](./project-roadmap.md)

## Design Resources

### Tools
- **Figma**: Design mockups
- **Color Oracle**: Color blindness simulator
- **axe DevTools**: Accessibility testing
- **Lighthouse**: Performance and accessibility

### References
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)
- [shadcn/ui Components](https://ui.shadcn.com)
- [WCAG 2.1 Guidelines](https://www.w3.org/WAI/WCAG21/quickref/)
- [Material Design Guidelines](https://m3.material.io/)

## Change Log

### 2025-12-26 - Initial Design Guidelines
- Created comprehensive design system
- Defined color palette (amber/gray)
- Established typography scale
- Documented component styles
- Added accessibility guidelines
- Created responsive design patterns
</file>

<file path="docs/project-overview-pdr.md">
# Project Overview & Product Development Requirements (PDR)

**Last Updated:** 2025-12-26
**Version:** 0.1.0
**Status:** Phase 1 Complete - Foundation Setup

## Project Overview

**Easy Rent** is a web-based property rental management application designed to help landlords and property managers in Vietnam streamline their rental operations. The application focuses on tenant management, contract generation, and property tracking.

### Project Vision

To provide a simple, efficient, and localized solution for managing rental properties, tenants, and contracts in the Vietnamese market.

### Target Audience

- Individual landlords renting out properties
- Small-scale property management companies
- Real estate agents managing multiple rental properties

## Technology Stack

### Frontend Framework
- **Next.js 16.1.1** - React framework with App Router
- **React 19.2.3** - UI library
- **TypeScript 5** - Type safety and developer experience

### Styling & UI
- **Tailwind CSS 4** - Utility-first CSS framework
- **shadcn/ui (New York style)** - Pre-built UI components built on Radix UI
- **tw-animate-css** - Tailwind animations
- **Lucide React** - Icon library

### Backend & Database
- **Supabase** - Backend-as-a-Service providing:
  - PostgreSQL database
  - Authentication (via Supabase Auth)
  - Real-time subscriptions
  - Row Level Security (RLS)

### Internationalization
- **next-intl 4.6.1** - Internationalization with support for:
  - Vietnamese (vi) - Default locale
  - English (en)

### Form Management & Validation
- **React Hook Form 7.69.0** - Form state management
- **Zod 4.2.1** - Schema validation
- **@hookform/resolvers 5.2.2** - Form validation integration

### Data Fetching & State Management
- **TanStack Query 5.90.12** - Server state management
- **TanStack Query DevTools 5.91.1** - Debugging tools

### Utilities
- **date-fns 4.1.0** - Date manipulation and formatting
- **clsx 2.1.1** - Conditional className utility
- **tailwind-merge 3.4.0** - Merge Tailwind classes
- **class-variance-authority 0.7.1** - Component variant management

### Code Quality
- **ESLint 9** - Linting with Next.js configuration
- **Prettier 3.7.4** - Code formatting
- **TypeScript** - Static type checking

## Product Development Requirements (PDR)

### Core Features

#### 1. Tenant Management (Priority: High)
**Requirements:**
- Create, read, update, and delete tenant profiles
- Store tenant information:
  - Full name (required)
  - Phone number (required)
  - ID number (optional)
  - Address (optional)
  - Date of birth (optional)
  - Notes (optional)
- Search and filter tenants
- View tenant history and contracts

**Acceptance Criteria:**
- All CRUD operations functional
- Form validation for required fields
- Vietnamese phone number validation
- Responsive design for mobile devices

#### 2. Contract Templates (Priority: High)
**Requirements:**
- Create and manage reusable contract templates
- Use markdown for template content
- Support variable substitution for:
  - Tenant name
  - Property address
  - Rental amount
  - Contract dates
  - Custom fields

**Acceptance Criteria:**
- Create/edit/delete templates
- Preview template with sample data
- Markdown rendering support
- Template versioning

#### 3. Contract Generation (Priority: High)
**Requirements:**
- Generate contracts from templates and tenant data
- Save snapshots of tenant and template data at generation time
- Store generated contract content
- Export contracts as PDF
- View contract history

**Acceptance Criteria:**
- One-click contract generation
- Data snapshot preservation
- PDF export functionality
- Contract list with search and filters

#### 4. Authentication & Authorization (Priority: Medium)
**Requirements:**
- User authentication via Supabase Auth
- Email/password authentication
- Session management with Supabase SSR
- Protected routes for authenticated users
- User profile management

**Acceptance Criteria:**
- Secure authentication flow
- Automatic session refresh
- Protected API routes
- Role-based access control (future)

#### 5. Dashboard (Priority: Medium)
**Requirements:**
- Overview of rental properties
- Active contracts summary
- Recent tenant activities
- Payment tracking (future)
- Quick actions for common tasks

**Acceptance Criteria:**
- Statistics cards with key metrics
- Recent activity feed
- Quick action buttons
- Responsive layout

### Non-Functional Requirements

#### Performance
- Page load time < 2 seconds on 3G
- Interactive time < 3 seconds
- Smooth animations (60fps)
- Optimized images and assets

#### Security
- Row Level Security (RLS) enabled in Supabase
- Secure session management
- Input validation on all forms
- XSS protection
- CSRF protection
- Environment variable management

#### Accessibility
- WCAG 2.1 Level AA compliance
- Keyboard navigation support
- Screen reader compatibility
- High contrast mode support
- Focus indicators on all interactive elements

#### Internationalization
- Vietnamese as primary language
- English secondary language
- Proper date/time formatting
- Number formatting (VND currency)
- RTL support consideration (future)

## Database Schema

### Tables

#### tenants
```typescript
{
  id: string (uuid, primary key)
  user_id: string (uuid, foreign key to auth.users)
  full_name: string (not null)
  phone: string (not null)
  id_number: string (nullable)
  address: string (nullable)
  date_of_birth: string (nullable, date)
  note: string (nullable, text)
  created_at: string (timestamp)
  updated_at: string (timestamp)
}
```

#### contract_templates
```typescript
{
  id: string (uuid, primary key)
  user_id: string (uuid, foreign key to auth.users)
  name: string (not null)
  content: string (not null, markdown)
  created_at: string (timestamp)
  updated_at: string (timestamp)
}
```

#### contracts
```typescript
{
  id: string (uuid, primary key)
  user_id: string (uuid, foreign key to auth.users)
  tenant_id: string (uuid, foreign key to tenants)
  template_id: string (uuid, foreign key to contract_templates)
  tenant_snapshot: json (tenant data at generation time)
  template_snapshot: json (template data at generation time)
  generated_content: string (not null, text)
  generated_at: string (timestamp)
  created_at: string (timestamp)
}
```

## Phase 1 Implementation Status (Complete)

### Completed Tasks
- [x] Project initialization with Next.js 16
- [x] TypeScript configuration
- [x] Tailwind CSS 4 setup
- [x] shadcn/ui component installation
- [x] Supabase client and server setup
- [x] Database type definitions
- [x] Internationalization setup (vi/en)
- [x] Middleware for i18n routing
- [x] Environment configuration
- [x] ESLint and Prettier setup
- [x] Project documentation structure

### Configuration Files
- **package.json** - Dependencies and scripts
- **tsconfig.json** - TypeScript compiler options
- **next.config.ts** - Next.js configuration with next-intl
- **postcss.config.mjs** - PostCSS with Tailwind
- **eslint.config.mjs** - ESLint configuration
- **components.json** - shadcn/ui configuration
- **.env.example** - Environment variable template

## Project Structure

```
easy-rent-app/
├── src/
│   ├── app/                 # Next.js App Router pages
│   │   ├── globals.css      # Global styles with Tailwind
│   │   ├── layout.tsx       # Root layout
│   │   └── page.tsx         # Home page
│   ├── components/
│   │   └── ui/              # shadcn/ui components
│   │       ├── button.tsx
│   │       ├── card.tsx
│   │       ├── dialog.tsx
│   │       ├── dropdown-menu.tsx
│   │       ├── form.tsx
│   │       ├── input.tsx
│   │       ├── label.tsx
│   │       ├── select.tsx
│   │       ├── table.tsx
│   │       └── textarea.tsx
│   ├── lib/
│   │   ├── supabase/        # Supabase client utilities
│   │   │   ├── client.ts    # Browser client
│   │   │   ├── server.ts    # Server client
│   │   │   └── middleware.ts # Middleware helpers
│   │   └── utils.ts         # Utility functions (cn helper)
│   ├── messages/            # i18n translation files
│   │   ├── vi.json          # Vietnamese translations
│   │   └── en.json          # English translations
│   ├── types/
│   │   └── database.ts      # Supabase type definitions
│   ├── i18n.ts              # next-intl configuration
│   └── middleware.ts        # Next.js middleware for i18n
├── docs/                    # Project documentation
├── plans/                   # Project plans
├── .env.example             # Environment variables template
├── package.json
├── tsconfig.json
├── next.config.ts
└── eslint.config.mjs
```

## Success Metrics

### Technical Metrics
- 100% TypeScript coverage
- 95%+ test coverage (future)
- Lighthouse score > 90
- Zero high-severity security vulnerabilities
- < 2s page load time

### User Experience Metrics
- Time to add tenant < 30 seconds
- Time to generate contract < 10 seconds
- Zero critical bugs in production
- < 5% session timeout rate

## Technical Constraints

### Browser Support
- Chrome/Edge: Latest 2 versions
- Firefox: Latest 2 versions
- Safari: Latest 2 versions
- Mobile browsers: iOS Safari 14+, Chrome Android 14+

### Environment Constraints
- Node.js 18+ required
- Supabase account required
- Modern web browser required

### Deployment Constraints
- Vercel (recommended) or compatible Node.js hosting
- Supabase project must be configured
- Environment variables must be set

## Dependencies & External Services

### Required Services
1. **Supabase Project**
   - Database: PostgreSQL
   - Authentication: Enabled
   - RLS: Enabled
   - Project URL and Anon Key required

### External APIs
- None currently (all data via Supabase)

## Future Enhancements

### Phase 2 - Core Features (Planned)
- Authentication flow implementation
- Tenant CRUD operations
- Contract template management
- Contract generation system
- Dashboard with analytics

### Phase 3 - Advanced Features (Future)
- Payment tracking
- Document upload/storage
- Email notifications
- Multi-property management
- Mobile-responsive improvements
- PWA capabilities

### Phase 4 - Integrations (Future)
- Payment gateway integration
- E-signature integration
- Calendar integration
- SMS notifications
- Reporting and analytics

## Related Documentation

- [Code Standards](./code-standards.md)
- [System Architecture](./system-architecture.md)
- [Codebase Summary](./codebase-summary.md)
- [Deployment Guide](./deployment-guide.md)
- [Design Guidelines](./design-guidelines.md)
- [Project Roadmap](./project-roadmap.md)

## Change Log

### 2025-12-26 - Phase 1 Complete
- Initial project setup
- Technology stack selection
- Database schema design
- Development environment configuration
- Documentation structure established
</file>

<file path="docs/project-roadmap.md">
# Easy Rent - Project Roadmap

**Last Updated**: 2025-12-26
**Version**: 0.1.0
**Status**: Phase 1 Complete

---

## Project Overview

Easy Rent is a web-based rental contract management system for landlords and property managers in Vietnam. The application enables digital contract creation, tenant management, and electronic signatures.

**Business Value**: Streamline rental operations, reduce paperwork, ensure legal compliance with Vietnamese contract standards.

**Target Users**: Individual landlords, property management companies, real estate agents.

---

## Technology Stack

| Component | Technology | Version | Purpose |
|-----------|-----------|---------|---------|
| Frontend | Next.js | 16.1.1 | React framework with App Router |
| UI Library | shadcn/ui | Latest | Accessible component library |
| Styling | Tailwind CSS | v4 | Utility-first CSS framework |
| Backend | Supabase | Latest | PostgreSQL, Auth, Storage |
| i18n | next-intl | Latest | Vietnamese/English support |
| State | TanStack Query | Latest | Server state management |
| Forms | react-hook-form + Zod | Latest | Form handling & validation |
| Language | TypeScript | 5.7+ | Type safety |

---

## Development Phases

### Phase 1: Project Setup & Foundation ✅

**Status**: COMPLETE
**Duration**: Completed
**Completion**: 100%
**Date Completed**: 2025-12-26

#### Achievements

- Next.js 16.1.1 project initialized with App Router
- TypeScript strict mode enabled and passing
- Tailwind CSS v4 with custom yellow/black theme configured
- Supabase SSR client setup (server, middleware, browser)
- next-intl i18n configured (Vietnamese default, English support)
- Database type definitions created (tenants, contract_templates, contracts)
- shadcn/ui components installed (button, card, input, form, select, dialog, table, dropdown-menu)
- Feature-based directory structure established
- Environment variable configuration (.env.example provided)
- Build pipeline verified (1.2s build time with Turbopack)

#### Quality Metrics

| Metric | Status |
|--------|--------|
| TypeScript Compilation | ✅ Passing |
| Build Status | ✅ Passing (1.2s) |
| Linting | ⚠️ 2 warnings (non-blocking) |
| Security | ✅ No hardcoded secrets |
| Type Safety | ✅ Strict mode |

#### Open Items (Non-blocking)

- Fix middleware linter warnings (unused `options` parameter)
- Add environment variable validation utility
- Create Supabase migration files for database schema

---

### Phase 2: Authentication & User Management

**Status**: NOT STARTED
**Target Start**: 2025-12-27
**Target Duration**: 3-4 days
**Completion**: 0%

#### Objectives

Implement secure user authentication with Supabase Auth, protected routes, and session management.

#### Key Features

- Email/password authentication
- User registration and login
- Password reset flow
- Email verification
- Protected dashboard routes
- Session persistence with cookies
- Auth error handling

#### Dependencies

- Supabase project setup
- Database migrations for `auth.users` (handled by Supabase)

#### Success Criteria

- User can register with email/password
- User can login and access protected routes
- Session persists across page refreshes
- Unauthorized users redirected to login
- Password reset email sent successfully

---

### Phase 3: Tenant Management Module

**Status**: NOT STARTED
**Target Start**: After Phase 2
**Target Duration**: 4-5 days
**Completion**: 0%

#### Objectives

Build complete CRUD functionality for tenant management with search, filtering, and validation.

#### Key Features

- Tenant list with pagination
- Create tenant form (Zod validation)
- Tenant detail and edit pages
- Delete with confirmation
- Search and filter
- Vietnamese phone number validation

#### Database Schema

```sql
CREATE TABLE tenants (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  full_name TEXT NOT NULL,
  id_card TEXT UNIQUE NOT NULL,
  phone TEXT NOT NULL,
  email TEXT,
  current_address TEXT,
  permanent_address TEXT,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_tenants_user_id ON tenants(user_id);
CREATE INDEX idx_tenants_id_card ON tenants(id_card);
```

#### Success Criteria

- User can create 10+ tenants
- Search returns results in <500ms
- Vietnamese phone validation works correctly
- All CRUD operations functional
- Optimistic updates improve UX

---

### Phase 4: Contract Template Management

**Status**: NOT STARTED
**Target Start**: After Phase 3
**Target Duration**: 3-4 days
**Completion**: 0%

#### Objectives

Create flexible contract template system with variable substitution and default templates.

#### Key Features

- Template list, create, edit, delete
- Rich text editor for template content
- Variable system ({{tenant_name}}, {{address}}, etc.)
- Template preview
- 3 default templates provided
- Template cloning

#### Database Schema

```sql
CREATE TABLE contract_templates (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  name TEXT NOT NULL,
  content TEXT NOT NULL,
  variables JSONB DEFAULT '{}',
  is_default BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_templates_user_id ON contract_templates(user_id);
```

#### Success Criteria

- User can create custom templates
- Variable substitution works correctly
- Preview matches final contract
- Default templates provided on first login

---

### Phase 5: Contract Management & Signing

**Status**: NOT STARTED
**Target Start**: After Phase 4
**Target Duration**: 5-6 days
**Completion**: 0%

#### Objectives

Implement full contract lifecycle from creation to digital signing.

#### Key Features

- Contract creation wizard (multi-step)
- Template selection and variable substitution
- PDF generation
- Digital signature (Supabase Storage)
- Status tracking (draft → pending → active → expired)
- Contract termination
- Email notifications for signing
- Date-based status automation

#### Database Schema

```sql
CREATE TABLE contracts (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  tenant_id UUID REFERENCES tenants(id) ON DELETE CASCADE,
  template_id UUID REFERENCES contract_templates(id) ON DELETE SET NULL,
  status TEXT DEFAULT 'draft' CHECK (status IN ('draft', 'pending', 'active', 'expired', 'terminated')),
  property_address TEXT NOT NULL,
  monthly_rent NUMERIC(12,2) NOT NULL,
  deposit NUMERIC(12,2),
  start_date DATE NOT NULL,
  end_date DATE NOT NULL,
  terms JSONB DEFAULT '{}',
  landlord_signature_url TEXT,
  tenant_signature_url TEXT,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_contracts_user_id ON contracts(user_id);
CREATE INDEX idx_contracts_tenant_id ON contracts(tenant_id);
CREATE INDEX idx_contracts_status ON contracts(status);
CREATE INDEX idx_contracts_dates ON contracts(start_date, end_date);
```

#### Success Criteria

- User can create contract from template
- PDF generates correctly
- Digital signatures saved to storage
- Status transitions work properly
- Email notifications sent

---

### Phase 6: Dashboard & Reporting

**Status**: NOT STARTED
**Target Start**: After Phase 5
**Target Duration**: 3-4 days
**Completion**: 0%

#### Objectives

Build comprehensive dashboard with metrics, charts, and quick actions.

#### Key Features

- Key metrics cards (contracts, tenants, revenue)
- Contract calendar view
- Revenue charts (monthly breakdown)
- Contract export (CSV/PDF)
- Quick action buttons
- Recent activity feed
- Advanced search

#### Success Criteria

- Dashboard loads in <2 seconds
- All metrics accurate
- Charts render correctly
- Export functionality works
- Calendar shows all contracts

---

### Phase 7: Testing & Quality Assurance

**Status**: NOT STARTED
**Target Start**: After Phase 6
**Target Duration**: 2-3 days
**Completion**: 0%

#### Objectives

Ensure application quality through comprehensive testing and optimization.

#### Test Coverage

- Unit tests for utilities
- Integration tests for auth
- E2E tests (Playwright):
  - Registration/login flow
  - Tenant CRUD
  - Contract creation/signing
- Responsive design testing
- Cross-browser compatibility
- Performance optimization
- Accessibility audit (WCAG AA)

#### Success Criteria

- 95%+ test coverage for critical paths
- All E2E tests passing
- Lighthouse score >90
- No accessibility violations
- Pages load under 2 seconds

---

### Phase 8: Deployment & Documentation

**Status**: NOT STARTED
**Target Start**: After Phase 7
**Target Duration**: 2-3 days
**Completion**: 0%

#### Objectives

Deploy to production and complete documentation.

#### Deployment Tasks

- Vercel deployment
- Supabase production setup
- Environment configuration
- Custom domain
- Database migrations
- Monitoring setup

#### Documentation

- User manual (Vietnamese)
- API documentation
- Admin guide
- Backup procedures
- Troubleshooting guide

#### Success Criteria

- Application live on production domain
- All features working in production
- Documentation complete
- Monitoring and alerts configured

---

## Timeline Overview

```
Phase 1: ████████████████████ 100% (COMPLETE)
Phase 2: ░░░░░░░░░░░░░░░░░░░░   0% (3-4 days)
Phase 3: ░░░░░░░░░░░░░░░░░░░░   0% (4-5 days)
Phase 4: ░░░░░░░░░░░░░░░░░░░░   0% (3-4 days)
Phase 5: ░░░░░░░░░░░░░░░░░░░░   0% (5-6 days)
Phase 6: ░░░░░░░░░░░░░░░░░░░░   0% (3-4 days)
Phase 7: ░░░░░░░░░░░░░░░░░░░░   0% (2-3 days)
Phase 8: ░░░░░░░░░░░░░░░░░░░░   0% (2-3 days)

Total Progress: ████░░░░░░░░░░░░ 12.5% (1/8 phases complete)
Estimated Time to MVP: 3-4 weeks
```

---

## Milestones

| Milestone | Target Date | Status | Notes |
|-----------|-------------|--------|-------|
| M1: Project Foundation | 2025-12-26 | ✅ Complete | All setup tasks done |
| M2: Authentication Flow | TBD | ⏳ Pending | Phase 2 completion |
| M3: First Tenant Created | TBD | ⏳ Pending | Phase 3 completion |
| M4: Template System Live | TBD | ⏳ Pending | Phase 4 completion |
| M5: First Contract Signed | TBD | ⏳ Pending | Phase 5 completion |
| M6: Dashboard Operational | TBD | ⏳ Pending | Phase 6 completion |
| M7: Quality Gates Passed | TBD | ⏳ Pending | Phase 7 completion |
| M8: Production Launch | TBD | ⏳ Pending | Phase 8 completion |

---

## Risk Register

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| Supabase tier limits exceeded | Medium | Medium | Monitor usage, implement pagination |
| PDF generation complexity | Medium | Medium | Start with simple templates |
| Digital signature legality | Low | High | Add disclaimer, research VN laws |
| i18n translation gaps | Low | Low | Use professional translation |
| Performance degradation | Low | Medium | Load testing, optimization |

---

## Changelog

### Version 0.1.0 (2025-12-26)

#### Added
- Project initialization with Next.js 16.1.1
- TypeScript strict mode configuration
- Tailwind CSS v4 with custom theme
- Supabase client setup (SSR + middleware)
- next-intl i18n (vi/en)
- Database type definitions
- shadcn/ui component library
- Project structure and documentation

#### Completed
- Phase 1: Project Setup & Foundation (100%)
- Build pipeline verification
- Security audit (no critical issues)

#### Known Issues
- 2 linter warnings (non-blocking)
- Missing environment variable validation
- Empty database migrations directory

---

## Next Steps

**Immediate Actions (This Week)**

1. Set up Supabase project
2. Create database migrations (tenants, contract_templates, contracts)
3. Implement Phase 2: Authentication flow
4. Fix Phase 1 linter warnings

**Upcoming (Next 2 Weeks)**

5. Complete Phase 3: Tenant Management
6. Complete Phase 4: Contract Templates
7. Begin Phase 5: Contract Management

**Future (3-4 Weeks)**

8. Complete Contract Management & Signing
9. Build Dashboard & Reporting
10. Testing & QA
11. Deploy to Production

---

## Resources

- **Repository**: /Users/phuc/Code/web/easy-rent-app
- **Plans**: /Users/phuc/Code/web/easy-rent-app/plans/251226-easy-rent-mvp/
- **Reports**: /Users/phuc/Code/web/easy-rent-app/plans/reports/
- **Documentation**: /Users/phuc/Code/web/easy-rent-app/docs/

---

**Maintained By**: Project Manager Agent
**Update Frequency**: After each phase completion or major milestone
</file>

<file path="docs/system-architecture.md">
# System Architecture

**Last Updated:** 2025-12-26
**Version:** 0.1.0
**Status:** Phase 1 Complete

## Table of Contents
- [Architecture Overview](#architecture-overview)
- [Technology Stack](#technology-stack)
- [Frontend Architecture](#frontend-architecture)
- [Backend Architecture](#backend-architecture)
- [Database Architecture](#database-architecture)
- [Authentication & Authorization](#authentication--authorization)
- [Internationalization](#internationalization)
- [State Management](#state-management)
- [API Layer](#api-layer)
- [Security Architecture](#security-architecture)
- [Deployment Architecture](#deployment-architecture)
- [Scalability Considerations](#scalability-considerations)

## Architecture Overview

Easy Rent is a **modern web application** built with a **serverless architecture** leveraging Next.js 16 App Router and Supabase as the backend-as-a-service.

### Architecture Diagram

```
┌─────────────────────────────────────────────────────────────────┐
│                         Client Layer                              │
├─────────────────────────────────────────────────────────────────┤
│  Browser (Client Components)                                      │
│  ├─ React 19.2.3                                                  │
│  ├─ TanStack Query (Client State)                                │
│  ├─ React Hook Form (Form State)                                 │
│  └─ shadcn/ui (UI Components)                                    │
└─────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────┐
│                    Application Layer                              │
├─────────────────────────────────────────────────────────────────┤
│  Next.js 16.1.1 (Server Components)                               │
│  ├─ App Router                                                   │
│  ├─ Server Actions                                               │
│  ├─ API Routes (if needed)                                       │
│  ├─ Middleware (i18n, auth)                                      │
│  └─ Server Components (Data Fetching)                            │
└─────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────┐
│                      Service Layer                                │
├─────────────────────────────────────────────────────────────────┤
│  Supabase                                                         │
│  ├─ PostgreSQL (Database)                                        │
│  ├─ Supabase Auth (Authentication)                               │
│  ├─ Row Level Security (Authorization)                           │
│  └─ Real-time Subscriptions (Future)                             │
└─────────────────────────────────────────────────────────────────┘
```

### Key Design Principles

1. **Server-First Rendering**: Leverage Next.js Server Components by default
2. **Progressive Enhancement**: Core functionality works without JavaScript
3. **Type Safety**: Full TypeScript coverage from database to UI
4. **Security First**: RLS at database level, secure session management
5. **Performance**: Static generation where possible, dynamic where needed
6. **Scalability**: Stateless architecture, CDN-ready deployment

## Technology Stack

### Frontend Stack

| Technology | Version | Purpose |
|------------|---------|---------|
| Next.js | 16.1.1 | React framework with App Router |
| React | 19.2.3 | UI library |
| TypeScript | 5 | Type safety and DX |
| Tailwind CSS | 4 | Styling |
| shadcn/ui | latest | Component library |
| TanStack Query | 5.90.12 | Server state management |
| React Hook Form | 7.69.0 | Form management |
| Zod | 4.2.1 | Schema validation |
| next-intl | 4.6.1 | Internationalization |

### Backend Stack

| Technology | Purpose |
|------------|---------|
| Supabase | Backend-as-a-Service |
| PostgreSQL | Primary database |
| Supabase Auth | Authentication |
| Row Level Security | Authorization |
| Next.js API Routes | Serverless functions (if needed) |

### Infrastructure

| Service | Purpose |
|---------|---------|
| Vercel (recommended) | Hosting and deployment |
| Supabase Cloud | Database and auth |
| Supabase Storage | File storage (future) |

## Frontend Architecture

### App Router Structure

```
src/app/
├── [locale]/              # i18n dynamic route
│   ├── (auth)/           # Auth route group
│   │   ├── login/
│   │   └── layout.tsx
│   ├── (dashboard)/      # Dashboard route group
│   │   ├── dashboard/
│   │   ├── tenants/
│   │   ├── templates/
│   │   ├── contracts/
│   │   └── layout.tsx
│   └── layout.tsx        # Root layout for locale
├── api/                  # API routes (if needed)
│   └── webhooks/
├── globals.css
├── layout.tsx            # Root layout
└── page.tsx              # Landing page
```

### Component Architecture

#### Component Hierarchy

```
Layout Components (Server)
├── RootLayout
├── LocaleLayout
└── DashboardLayout

Feature Components
├── TenantList (Server)
│   └── TenantCard (Client)
├── TenantForm (Client)
├── ContractList (Server)
│   └── ContractCard (Client)
└── TemplateList (Server)
    └── TemplateEditor (Client)

UI Components (shadcn/ui)
├── Button
├── Card
├── Dialog
├── Form
├── Input
├── Select
└── Table
```

#### Component Types

**Server Components** (Default)
- Fetch data directly from Supabase
- No client-side JavaScript
- Better performance and SEO
- Cannot use hooks or event handlers

```typescript
// Server Component
export default async function TenantListPage() {
  const supabase = await createServerClient();
  const { data: tenants } = await supabase.from('tenants').select();

  return <TenantGrid tenants={tenants} />;
}
```

**Client Components**
- Interactive elements (forms, buttons)
- Browser APIs
- React hooks
- State management

```typescript
'use client';

export function TenantForm({ onSubmit }: Props) {
  const [formData, setFormData] = useState(initialState);
  return <form onSubmit={onSubmit}>...</form>;
}
```

### Styling Architecture

**Tailwind CSS v4** with CSS variables for theming:

```css
:root {
  --primary: 245 158 11;  /* Amber-500 */
  --background: 250 250 250;
  --foreground: 15 15 15;
}

.dark {
  --primary: 245 158 11;
  --background: 15 15 15;
  --foreground: 250 250 250;
}
```

**Design Tokens**:
- Colors: HSL format for CSS variables
- Spacing: Tailwind spacing scale
- Typography: Geist Sans/Mono fonts
- Radius: Configurable via `--radius` variable
- Shadows: Tailwind shadow utilities

## Backend Architecture

### Serverless Approach

**Next.js Server Components** eliminate the need for a separate API layer in most cases:

```
Traditional API Approach:
Browser → API Route → Database

Server Component Approach:
Browser → Server Component → Database
```

### When to Use API Routes

1. **Webhooks** (Supabase webhooks, payment webhooks)
2. **Secret operations** (don't expose to client)
3. **Heavy processing** (avoid server component timeout)
4. **External API integrations** with rate limits

### Server Actions (Future)

Server Actions provide a simpler alternative to API routes:

```typescript
'use server';

export async function createTenant(formData: FormData) {
  const supabase = await createServerClient();
  // ... validation and database insert
  revalidatePath('/tenants');
}
```

## Database Architecture

### Schema Design

**Tables**:
- `tenants` - Tenant information
- `contract_templates` - Reusable contract templates
- `contracts` - Generated contracts with snapshots

**Relationships**:
```
auth.users (Supabase Auth)
    ↓ 1:N
tenants ←───────┐
    ↓            │
contracts ──────┘
    ↑ N:1
contract_templates
```

### Row Level Security (RLS)

**Policies**:
- **Tenants**: Users can only CRUD their own tenants
- **Templates**: Users can only CRUD their own templates
- **Contracts**: Users can only read contracts they created

**Example Policy**:
```sql
-- Tenants table
CREATE POLICY "Users can view their own tenants"
ON tenants FOR SELECT
USING (auth.uid() = user_id);

CREATE POLICY "Users can insert their own tenants"
ON tenants FOR INSERT
WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update their own tenants"
ON tenants FOR UPDATE
USING (auth.uid() = user_id);

CREATE POLICY "Users can delete their own tenants"
ON tenants FOR DELETE
USING (auth.uid() = user_id);
```

### Database Functions

**Helper Functions** (to be implemented):
- `get_tenant_count(user_id uuid)` - Count user's tenants
- `search_tenants(user_id uuid, query text)` - Full-text search
- `generate_contract_id()` - UUID generation

### Database Triggers

**Automatic Timestamps**:
```sql
-- Updated at trigger
CREATE OR REPLACE FUNCTION update_updated_at()
RETURNS TRIGGER AS $$
BEGIN
  NEW.updated_at = NOW();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER update_tenants_updated_at
BEFORE UPDATE ON tenants
FOR EACH ROW
EXECUTE FUNCTION update_updated_at();
```

## Authentication & Authorization

### Authentication Flow

```
1. User visits /login
2. Enters credentials
3. Supabase Auth validates
4. Session created
5. Middleware refreshes session
6. User redirected to dashboard
```

### Supabase Auth Integration

**Client Setup**:
```typescript
// src/lib/supabase/client.ts
export const createClient = () =>
  createBrowserClient<Database>(
    process.env.NEXT_PUBLIC_SUPABASE_URL!,
    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
  );
```

**Server Setup**:
```typescript
// src/lib/supabase/server.ts
export const createServerClient = async () => {
  const cookieStore = await cookies();
  return createSupabaseServerClient<Database>(...);
};
```

**Middleware Setup**:
```typescript
// src/lib/supabase/middleware.ts
export async function updateSession(request: NextRequest) {
  const supabase = createServerClient<Database>(...);
  return supabase;
}
```

### Session Management

**Middleware Refresh**:
```typescript
// src/middleware.ts
export default createMiddleware({
  locales: ['en', 'vi'],
  defaultLocale: 'vi',
});
```

**Session Flow**:
1. Middleware intercepts request
2. Refreshes Supabase session
3. Passes session to Server Components
4. Components access user via `supabase.auth.getUser()`

### Authorization Strategy

**Database-Level (RLS)**:
- Primary authorization mechanism
- Policies enforce user ownership
- Cannot be bypassed

**Application-Level**:
- Server Components check `user_id`
- API routes verify authentication
- Protected pages redirect unauthenticated users

## Internationalization

### i18n Architecture

**next-intl Configuration**:
```typescript
// src/i18n.ts
export default getRequestConfig(async ({ requestLocale }) => {
  const locale = await requestLocale || 'vi';
  return {
    locale,
    messages: (await import(`./messages/${locale}.json`)).default,
  };
});
```

**Supported Locales**:
- Vietnamese (vi) - Default
- English (en)

**URL Structure**:
- `https://domain.com/vi/tenants` - Vietnamese
- `https://domain.com/en/tenants` - English
- `https://domain.com/tenants` - Redirects to `/vi/tenants`

**Translation Files**:
```
src/messages/
├── vi.json  # Vietnamese translations
└── en.json  # English translations
```

**Translation Structure**:
```json
{
  "common": {
    "appName": "Easy Rent",
    "save": "Lưu"
  },
  "tenants": {
    "title": "Khách thuê",
    "add": "Thêm khách"
  }
}
```

**Usage in Components**:
```typescript
import { useTranslations } from 'next-intl';

export function TenantCard() {
  const t = useTranslations('tenants');
  return <h1>{t('title')}</h1>;
}
```

## State Management

### State Management Strategy

**Server State** (TanStack Query):
- Remote data from Supabase
- Caching and synchronization
- Background refetching
- Optimistic updates

**Form State** (React Hook Form):
- Form inputs and validation
- Zod schema validation
- Uncontrolled components
- Minimal re-renders

**URL State** (Next.js):
- Search params (filters, pagination)
- Route params (resource IDs)
- Query state serialization

**Global UI State** (Context):
- Theme (dark/light mode)
- Auth state
- Sidebar toggle state
- Minimal usage

### TanStack Query Setup

```typescript
// Query Client Provider (Client Component)
'use client';

export function QueryProvider({ children }: { children: React.ReactNode }) {
  const [queryClient] = useState(() => new QueryClient());

  return (
    <QueryClientProvider client={queryClient}>
      {children}
      <ReactQueryDevtools />
    </QueryClientProvider>
  );
}
```

### Query Keys Organization

```typescript
// Query keys factory
export const tenantKeys = {
  all: ['tenants'] as const,
  lists: () => [...tenantKeys.all, 'list'] as const,
  list: (filters: string) => [...tenantKeys.lists(), { filters }] as const,
  details: () => [...tenantKeys.all, 'detail'] as const,
  detail: (id: string) => [...tenantKeys.details(), id] as const,
};
```

## API Layer

### Supabase Client Usage

**Server Components**:
```typescript
export default async function Page() {
  const supabase = await createServerClient();
  const { data } = await supabase.from('tenants').select();
  return <TenantList data={data} />;
}
```

**Client Components**:
```typescript
'use client';

export function TenantList() {
  const { data } = useQuery({
    queryKey: ['tenants'],
    queryFn: async () => {
      const supabase = createClient();
      const { data } = await supabase.from('tenants').select();
      return data;
    },
  });
  return <div>{/* ... */}</div>;
}
```

### Type Safety

**Generated Database Types**:
```typescript
// src/types/database.ts
export interface Database {
  public: {
    Tables: {
      tenants: {
        Row: { /* ... */ };
        Insert: { /* ... */ };
        Update: { /* ... */ };
      };
    };
  };
}
```

**Typed Queries**:
```typescript
const supabase = createClient<Database>();
// Full autocomplete and type checking
const { data } = await supabase.from('tenants').select('full_name, phone');
```

## Security Architecture

### Security Layers

**1. Environment Variables**:
```bash
NEXT_PUBLIC_SUPABASE_URL=           # Public (safe)
NEXT_PUBLIC_SUPABASE_ANON_KEY=      # Public (safe, RLS protected)
SUPABASE_SERVICE_ROLE_KEY=          # Private (never expose)
```

**2. Row Level Security (RLS)**:
- Enabled on all tables
- Policies enforce ownership
- Service role bypasses RLS (server only)

**3. Session Management**:
- Secure HTTP-only cookies
- Automatic refresh via middleware
- Short-lived access tokens

**4. Input Validation**:
- Zod schemas on all inputs
- Parameterized queries (Supabase)
- XSS protection (React escaping)

**5. CORS & CSP**:
- Restrict API origins
- Content Security Policy headers
- HTTPS only in production

### Security Best Practices

**Do's**:
- Use RLS for all data access
- Validate all user inputs
- Use environment variables for secrets
- Enable Supabase audit logs
- Regular security audits

**Don'ts**:
- Never expose service role key to client
- Never bypass RLS in client code
- Never trust client-side validation only
- Never log sensitive data

## Deployment Architecture

### Vercel Deployment (Recommended)

**Build Configuration**:
```typescript
// next.config.ts
const nextConfig: NextConfig = {
  // No special config needed for basic deployment
};
```

**Environment Variables**:
```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
NEXT_PUBLIC_APP_URL=
```

**Deployment Flow**:
```
1. Push to main branch
2. GitHub webhook triggers Vercel
3. Vercel builds Next.js app
4. Deployed to edge network
5. Zero-downtime deployment
```

### Performance Optimization

**1. Static Generation**:
- Landing page: Static
- Marketing pages: Static
- Dashboard pages: Dynamic (auth required)

**2. Image Optimization**:
- Next.js Image component
- Automatic WebP/AVIF conversion
- Lazy loading
- Responsive images

**3. Code Splitting**:
- Automatic with App Router
- Route-based splitting
- Dynamic imports for heavy components

**4. Caching Strategy**:
- Static assets: CDN cache
- API responses: TanStack Query cache
- Database: Supabase connection pooling

## Scalability Considerations

### Current Limitations

**Supabase Free Tier**:
- 500MB database storage
- 1GB file storage
- 50k MAU
- 1GB bandwidth/month

### Scaling Strategy

**Phase 1** (Current):
- Supabase Free Tier
- Vercel Hobby
- < 100 users

**Phase 2** (Growth):
- Supabase Pro Tier
- Vercel Pro
- < 1,000 users

**Phase 3** (Scale):
- Supabase Team/Premium
- Vercel Enterprise
- Dedicated database (if needed)
- CDN optimization

### Performance Targets

- **Page Load**: < 2s (3G)
- **Time to Interactive**: < 3s
- **API Response**: < 500ms (p95)
- **Database Query**: < 100ms (average)

## Related Documentation

- [Project Overview & PDR](./project-overview-pdr.md)
- [Code Standards](./code-standards.md)
- [Codebase Summary](./codebase-summary.md)
- [Deployment Guide](./deployment-guide.md)
</file>

<file path="public/file.svg">
<svg fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 13.5V5.41a1 1 0 0 0-.3-.7L9.8.29A1 1 0 0 0 9.08 0H1.5v13.5A2.5 2.5 0 0 0 4 16h8a2.5 2.5 0 0 0 2.5-2.5m-1.5 0v-7H8v-5H3v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1M9.5 5V2.12L12.38 5zM5.13 5h-.62v1.25h2.12V5zm-.62 3h7.12v1.25H4.5zm.62 3h-.62v1.25h7.12V11z" clip-rule="evenodd" fill="#666" fill-rule="evenodd"/></svg>
</file>

<file path="public/globe.svg">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.27 14.1a6.5 6.5 0 0 0 3.67-3.45q-1.24.21-2.7.34-.31 1.83-.97 3.1M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.48-1.52a7 7 0 0 1-.96 0H7.5a4 4 0 0 1-.84-1.32q-.38-.89-.63-2.08a40 40 0 0 0 3.92 0q-.25 1.2-.63 2.08a4 4 0 0 1-.84 1.31zm2.94-4.76q1.66-.15 2.95-.43a7 7 0 0 0 0-2.58q-1.3-.27-2.95-.43a18 18 0 0 1 0 3.44m-1.27-3.54a17 17 0 0 1 0 3.64 39 39 0 0 1-4.3 0 17 17 0 0 1 0-3.64 39 39 0 0 1 4.3 0m1.1-1.17q1.45.13 2.69.34a6.5 6.5 0 0 0-3.67-3.44q.65 1.26.98 3.1M8.48 1.5l.01.02q.41.37.84 1.31.38.89.63 2.08a40 40 0 0 0-3.92 0q.25-1.2.63-2.08a4 4 0 0 1 .85-1.32 7 7 0 0 1 .96 0m-2.75.4a6.5 6.5 0 0 0-3.67 3.44 29 29 0 0 1 2.7-.34q.31-1.83.97-3.1M4.58 6.28q-1.66.16-2.95.43a7 7 0 0 0 0 2.58q1.3.27 2.95.43a18 18 0 0 1 0-3.44m.17 4.71q-1.45-.12-2.69-.34a6.5 6.5 0 0 0 3.67 3.44q-.65-1.27-.98-3.1" fill="#666"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath></defs></svg>
</file>

<file path="public/next.svg">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 394 80"><path fill="#000" d="M262 0h68.5v12.7h-27.2v66.6h-13.6V12.7H262V0ZM149 0v12.7H94v20.4h44.3v12.6H94v21h55v12.6H80.5V0h68.7zm34.3 0h-17.8l63.8 79.4h17.9l-32-39.7 32-39.6h-17.9l-23 28.6-23-28.6zm18.3 56.7-9-11-27.1 33.7h17.8l18.3-22.7z"/><path fill="#000" d="M81 79.3 17 0H0v79.3h13.6V17l50.2 62.3H81Zm252.6-.4c-1 0-1.8-.4-2.5-1s-1.1-1.6-1.1-2.6.3-1.8 1-2.5 1.6-1 2.6-1 1.8.3 2.5 1a3.4 3.4 0 0 1 .6 4.3 3.7 3.7 0 0 1-3 1.8zm23.2-33.5h6v23.3c0 2.1-.4 4-1.3 5.5a9.1 9.1 0 0 1-3.8 3.5c-1.6.8-3.5 1.3-5.7 1.3-2 0-3.7-.4-5.3-1s-2.8-1.8-3.7-3.2c-.9-1.3-1.4-3-1.4-5h6c.1.8.3 1.6.7 2.2s1 1.2 1.6 1.5c.7.4 1.5.5 2.4.5 1 0 1.8-.2 2.4-.6a4 4 0 0 0 1.6-1.8c.3-.8.5-1.8.5-3V45.5zm30.9 9.1a4.4 4.4 0 0 0-2-3.3 7.5 7.5 0 0 0-4.3-1.1c-1.3 0-2.4.2-3.3.5-.9.4-1.6 1-2 1.6a3.5 3.5 0 0 0-.3 4c.3.5.7.9 1.3 1.2l1.8 1 2 .5 3.2.8c1.3.3 2.5.7 3.7 1.2a13 13 0 0 1 3.2 1.8 8.1 8.1 0 0 1 3 6.5c0 2-.5 3.7-1.5 5.1a10 10 0 0 1-4.4 3.5c-1.8.8-4.1 1.2-6.8 1.2-2.6 0-4.9-.4-6.8-1.2-2-.8-3.4-2-4.5-3.5a10 10 0 0 1-1.7-5.6h6a5 5 0 0 0 3.5 4.6c1 .4 2.2.6 3.4.6 1.3 0 2.5-.2 3.5-.6 1-.4 1.8-1 2.4-1.7a4 4 0 0 0 .8-2.4c0-.9-.2-1.6-.7-2.2a11 11 0 0 0-2.1-1.4l-3.2-1-3.8-1c-2.8-.7-5-1.7-6.6-3.2a7.2 7.2 0 0 1-2.4-5.7 8 8 0 0 1 1.7-5 10 10 0 0 1 4.3-3.5c2-.8 4-1.2 6.4-1.2 2.3 0 4.4.4 6.2 1.2 1.8.8 3.2 2 4.3 3.4 1 1.4 1.5 3 1.5 5h-5.8z"/></svg>
</file>

<file path="public/vercel.svg">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1155 1000"><path d="m577.3 0 577.4 1000H0z" fill="#fff"/></svg>
</file>

<file path="public/window.svg">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 2.5h13v10a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1zM0 1h16v11.5a2.5 2.5 0 0 1-2.5 2.5h-11A2.5 2.5 0 0 1 0 12.5zm3.75 4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5M7 4.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m1.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5" fill="#666"/></svg>
</file>

<file path="src/app/globals.css">
@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-inter), system-ui, sans-serif;
  --font-mono: ui-monospace, monospace;
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
}

:root {
  --radius: 0.75rem; /* 12px for card radius */
  --background: 250 250 250;
  --foreground: 15 15 15;
  --card: 255 255 255;
  --card-foreground: 15 15 15;
  --popover: 255 255 255;
  --popover-foreground: 15 15 15;
  --primary: 245 158 11;
  --primary-foreground: 15 15 15;
  --secondary: 230 230 230;
  --secondary-foreground: 15 15 15;
  --muted: 240 240 240;
  --muted-foreground: 115 115 115;
  --accent: 245 158 11;
  --accent-foreground: 15 15 15;
  --destructive: 220 38 38;
  --border: 220 220 220;
  --input: 220 220 220;
  --ring: 245 158 11;
  --chart-1: 245 158 11;
  --chart-2: 251 191 36;
  --chart-3: 15 15 15;
  --chart-4: 100 100 100;
  --chart-5: 180 180 180;
  --sidebar: 15 15 15;
  --sidebar-foreground: 250 250 250;
  --sidebar-primary: 245 158 11;
  --sidebar-primary-foreground: 15 15 15;
  --sidebar-accent: 50 50 50;
  --sidebar-accent-foreground: 250 250 250;
  --sidebar-border: 50 50 50;
  --sidebar-ring: 245 158 11;
}

.dark {
  --background: 15 15 15;
  --foreground: 250 250 250;
  --card: 25 25 25;
  --card-foreground: 250 250 250;
  --popover: 25 25 25;
  --popover-foreground: 250 250 250;
  --primary: 245 158 11;
  --primary-foreground: 15 15 15;
  --secondary: 45 45 45;
  --secondary-foreground: 250 250 250;
  --muted: 45 45 45;
  --muted-foreground: 180 180 180;
  --accent: 245 158 11;
  --accent-foreground: 15 15 15;
  --destructive: 240 100 100;
  --border: 45 45 45;
  --input: 45 45 45;
  --ring: 245 158 11;
  --chart-1: 245 158 11;
  --chart-2: 251 191 36;
  --chart-3: 250 250 250;
  --chart-4: 150 150 150;
  --chart-5: 80 80 80;
  --sidebar: 15 15 15;
  --sidebar-foreground: 250 250 250;
  --sidebar-primary: 245 158 11;
  --sidebar-primary-foreground: 15 15 15;
  --sidebar-accent: 45 45 45;
  --sidebar-accent-foreground: 250 250 250;
  --sidebar-border: 45 45 45;
  --sidebar-ring: 245 158 11;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Reduced motion support for accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
</file>

<file path="src/app/layout.tsx">
import type { Metadata } from "next";
import { Inter } from "next/font/google";
import "./globals.css";

const inter = Inter({
  variable: "--font-inter",
  subsets: ["latin"],
  display: "swap",
});

export const metadata: Metadata = {
  title: "Easy Rent - Property Management Dashboard",
  description: "Modern property management platform for landlords and tenants",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en" suppressHydrationWarning>
      <body className={`${inter.variable} font-sans antialiased`}>
        {children}
      </body>
    </html>
  );
}
</file>

<file path="src/app/page.tsx">
import Image from "next/image";

export default function Home() {
  return (
    <div className="flex min-h-screen items-center justify-center bg-zinc-50 font-sans dark:bg-black">
      <main className="flex min-h-screen w-full max-w-3xl flex-col items-center justify-between py-32 px-16 bg-white dark:bg-black sm:items-start">
        <Image
          className="dark:invert"
          src="/next.svg"
          alt="Next.js logo"
          width={100}
          height={20}
          priority
        />
        <div className="flex flex-col items-center gap-6 text-center sm:items-start sm:text-left">
          <h1 className="max-w-xs text-3xl font-semibold leading-10 tracking-tight text-black dark:text-zinc-50">
            To get started, edit the page.tsx file.
          </h1>
          <p className="max-w-md text-lg leading-8 text-zinc-600 dark:text-zinc-400">
            Looking for a starting point or more instructions? Head over to{" "}
            <a
              href="https://vercel.com/templates?framework=next.js&utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"
              className="font-medium text-zinc-950 dark:text-zinc-50"
            >
              Templates
            </a>{" "}
            or the{" "}
            <a
              href="https://nextjs.org/learn?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"
              className="font-medium text-zinc-950 dark:text-zinc-50"
            >
              Learning
            </a>{" "}
            center.
          </p>
        </div>
        <div className="flex flex-col gap-4 text-base font-medium sm:flex-row">
          <a
            className="flex h-12 w-full items-center justify-center gap-2 rounded-full bg-foreground px-5 text-background transition-colors hover:bg-[#383838] dark:hover:bg-[#ccc] md:w-[158px]"
            href="https://vercel.com/new?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"
            target="_blank"
            rel="noopener noreferrer"
          >
            <Image
              className="dark:invert"
              src="/vercel.svg"
              alt="Vercel logomark"
              width={16}
              height={16}
            />
            Deploy Now
          </a>
          <a
            className="flex h-12 w-full items-center justify-center rounded-full border border-solid border-black/[.08] px-5 transition-colors hover:border-transparent hover:bg-black/[.04] dark:border-white/[.145] dark:hover:bg-[#1a1a1a] md:w-[158px]"
            href="https://nextjs.org/docs?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"
            target="_blank"
            rel="noopener noreferrer"
          >
            Documentation
          </a>
        </div>
      </main>
    </div>
  );
}
</file>

<file path="src/components/ui/button.tsx">
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg",
        primary: "bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg",
        destructive:
          "bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        outline:
          "border border-gray-200 bg-white shadow-xs hover:bg-gray-50 hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",
        secondary:
          "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost:
          "hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 px-4 py-2 has-[>svg]:px-3",
        sm: "h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",
        lg: "h-10 rounded-md px-6 has-[>svg]:px-4",
        icon: "size-9",
        "icon-sm": "size-8",
        "icon-lg": "size-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function Button({
  className,
  variant = "default",
  size = "default",
  asChild = false,
  ...props
}: React.ComponentProps<"button"> &
  VariantProps<typeof buttonVariants> & {
    asChild?: boolean
  }) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="button"
      data-variant={variant}
      data-size={size}
      className={cn(buttonVariants({ variant, size, className }))}
      {...props}
    />
  )
}

export { Button, buttonVariants }
</file>

<file path="src/components/ui/card.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

function Card({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card"
      className={cn(
        "bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",
        className
      )}
      {...props}
    />
  )
}

function CardHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-header"
      className={cn(
        "@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",
        className
      )}
      {...props}
    />
  )
}

function CardTitle({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-title"
      className={cn("leading-none font-semibold", className)}
      {...props}
    />
  )
}

function CardDescription({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

function CardAction({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-action"
      className={cn(
        "col-start-2 row-span-2 row-start-1 self-start justify-self-end",
        className
      )}
      {...props}
    />
  )
}

function CardContent({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-content"
      className={cn("px-6", className)}
      {...props}
    />
  )
}

function CardFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-footer"
      className={cn("flex items-center px-6 [.border-t]:pt-6", className)}
      {...props}
    />
  )
}

export {
  Card,
  CardHeader,
  CardFooter,
  CardTitle,
  CardAction,
  CardDescription,
  CardContent,
}
</file>

<file path="src/components/ui/dialog.tsx">
"use client"

import * as React from "react"
import * as DialogPrimitive from "@radix-ui/react-dialog"
import { XIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Dialog({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Root>) {
  return <DialogPrimitive.Root data-slot="dialog" {...props} />
}

function DialogTrigger({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {
  return <DialogPrimitive.Trigger data-slot="dialog-trigger" {...props} />
}

function DialogPortal({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Portal>) {
  return <DialogPrimitive.Portal data-slot="dialog-portal" {...props} />
}

function DialogClose({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Close>) {
  return <DialogPrimitive.Close data-slot="dialog-close" {...props} />
}

function DialogOverlay({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {
  return (
    <DialogPrimitive.Overlay
      data-slot="dialog-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className
      )}
      {...props}
    />
  )
}

function DialogContent({
  className,
  children,
  showCloseButton = true,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Content> & {
  showCloseButton?: boolean
}) {
  return (
    <DialogPortal data-slot="dialog-portal">
      <DialogOverlay />
      <DialogPrimitive.Content
        data-slot="dialog-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",
          className
        )}
        {...props}
      >
        {children}
        {showCloseButton && (
          <DialogPrimitive.Close
            data-slot="dialog-close"
            className="ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"
          >
            <XIcon />
            <span className="sr-only">Close</span>
          </DialogPrimitive.Close>
        )}
      </DialogPrimitive.Content>
    </DialogPortal>
  )
}

function DialogHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="dialog-header"
      className={cn("flex flex-col gap-2 text-center sm:text-left", className)}
      {...props}
    />
  )
}

function DialogFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="dialog-footer"
      className={cn(
        "flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",
        className
      )}
      {...props}
    />
  )
}

function DialogTitle({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Title>) {
  return (
    <DialogPrimitive.Title
      data-slot="dialog-title"
      className={cn("text-lg leading-none font-semibold", className)}
      {...props}
    />
  )
}

function DialogDescription({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Description>) {
  return (
    <DialogPrimitive.Description
      data-slot="dialog-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

export {
  Dialog,
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogOverlay,
  DialogPortal,
  DialogTitle,
  DialogTrigger,
}
</file>

<file path="src/components/ui/dropdown-menu.tsx">
"use client"

import * as React from "react"
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu"
import { CheckIcon, ChevronRightIcon, CircleIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function DropdownMenu({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {
  return <DropdownMenuPrimitive.Root data-slot="dropdown-menu" {...props} />
}

function DropdownMenuPortal({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {
  return (
    <DropdownMenuPrimitive.Portal data-slot="dropdown-menu-portal" {...props} />
  )
}

function DropdownMenuTrigger({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {
  return (
    <DropdownMenuPrimitive.Trigger
      data-slot="dropdown-menu-trigger"
      {...props}
    />
  )
}

function DropdownMenuContent({
  className,
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {
  return (
    <DropdownMenuPrimitive.Portal>
      <DropdownMenuPrimitive.Content
        data-slot="dropdown-menu-content"
        sideOffset={sideOffset}
        className={cn(
          "bg-white text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-xl border border-gray-200 p-1 shadow-lg",
          className
        )}
        {...props}
      />
    </DropdownMenuPrimitive.Portal>
  )
}

function DropdownMenuGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {
  return (
    <DropdownMenuPrimitive.Group data-slot="dropdown-menu-group" {...props} />
  )
}

function DropdownMenuItem({
  className,
  inset,
  variant = "default",
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {
  inset?: boolean
  variant?: "default" | "destructive"
}) {
  return (
    <DropdownMenuPrimitive.Item
      data-slot="dropdown-menu-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuCheckboxItem({
  className,
  children,
  checked,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {
  return (
    <DropdownMenuPrimitive.CheckboxItem
      data-slot="dropdown-menu-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      checked={checked}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.CheckboxItem>
  )
}

function DropdownMenuRadioGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {
  return (
    <DropdownMenuPrimitive.RadioGroup
      data-slot="dropdown-menu-radio-group"
      {...props}
    />
  )
}

function DropdownMenuRadioItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {
  return (
    <DropdownMenuPrimitive.RadioItem
      data-slot="dropdown-menu-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CircleIcon className="size-2 fill-current" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.RadioItem>
  )
}

function DropdownMenuLabel({
  className,
  inset,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {
  inset?: boolean
}) {
  return (
    <DropdownMenuPrimitive.Label
      data-slot="dropdown-menu-label"
      data-inset={inset}
      className={cn(
        "px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuSeparator({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {
  return (
    <DropdownMenuPrimitive.Separator
      data-slot="dropdown-menu-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  )
}

function DropdownMenuShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="dropdown-menu-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuSub({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {
  return <DropdownMenuPrimitive.Sub data-slot="dropdown-menu-sub" {...props} />
}

function DropdownMenuSubTrigger({
  className,
  inset,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {
  inset?: boolean
}) {
  return (
    <DropdownMenuPrimitive.SubTrigger
      data-slot="dropdown-menu-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto size-4" />
    </DropdownMenuPrimitive.SubTrigger>
  )
}

function DropdownMenuSubContent({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {
  return (
    <DropdownMenuPrimitive.SubContent
      data-slot="dropdown-menu-sub-content"
      className={cn(
        "bg-white text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-xl border border-gray-200 p-1 shadow-lg",
        className
      )}
      {...props}
    />
  )
}

export {
  DropdownMenu,
  DropdownMenuPortal,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuGroup,
  DropdownMenuLabel,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioGroup,
  DropdownMenuRadioItem,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuSub,
  DropdownMenuSubTrigger,
  DropdownMenuSubContent,
}
</file>

<file path="src/components/ui/form.tsx">
"use client"

import * as React from "react"
import type * as LabelPrimitive from "@radix-ui/react-label"
import { Slot } from "@radix-ui/react-slot"
import {
  Controller,
  FormProvider,
  useFormContext,
  useFormState,
  type ControllerProps,
  type FieldPath,
  type FieldValues,
} from "react-hook-form"

import { cn } from "@/lib/utils"
import { Label } from "@/components/ui/label"

const Form = FormProvider

type FormFieldContextValue<
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,
> = {
  name: TName
}

const FormFieldContext = React.createContext<FormFieldContextValue>(
  {} as FormFieldContextValue
)

const FormField = <
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,
>({
  ...props
}: ControllerProps<TFieldValues, TName>) => {
  return (
    <FormFieldContext.Provider value={{ name: props.name }}>
      <Controller {...props} />
    </FormFieldContext.Provider>
  )
}

const useFormField = () => {
  const fieldContext = React.useContext(FormFieldContext)
  const itemContext = React.useContext(FormItemContext)
  const { getFieldState } = useFormContext()
  const formState = useFormState({ name: fieldContext.name })
  const fieldState = getFieldState(fieldContext.name, formState)

  if (!fieldContext) {
    throw new Error("useFormField should be used within <FormField>")
  }

  const { id } = itemContext

  return {
    id,
    name: fieldContext.name,
    formItemId: `${id}-form-item`,
    formDescriptionId: `${id}-form-item-description`,
    formMessageId: `${id}-form-item-message`,
    ...fieldState,
  }
}

type FormItemContextValue = {
  id: string
}

const FormItemContext = React.createContext<FormItemContextValue>(
  {} as FormItemContextValue
)

function FormItem({ className, ...props }: React.ComponentProps<"div">) {
  const id = React.useId()

  return (
    <FormItemContext.Provider value={{ id }}>
      <div
        data-slot="form-item"
        className={cn("grid gap-2", className)}
        {...props}
      />
    </FormItemContext.Provider>
  )
}

function FormLabel({
  className,
  ...props
}: React.ComponentProps<typeof LabelPrimitive.Root>) {
  const { error, formItemId } = useFormField()

  return (
    <Label
      data-slot="form-label"
      data-error={!!error}
      className={cn("data-[error=true]:text-destructive", className)}
      htmlFor={formItemId}
      {...props}
    />
  )
}

function FormControl({ ...props }: React.ComponentProps<typeof Slot>) {
  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()

  return (
    <Slot
      data-slot="form-control"
      id={formItemId}
      aria-describedby={
        !error
          ? `${formDescriptionId}`
          : `${formDescriptionId} ${formMessageId}`
      }
      aria-invalid={!!error}
      {...props}
    />
  )
}

function FormDescription({ className, ...props }: React.ComponentProps<"p">) {
  const { formDescriptionId } = useFormField()

  return (
    <p
      data-slot="form-description"
      id={formDescriptionId}
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

function FormMessage({ className, ...props }: React.ComponentProps<"p">) {
  const { error, formMessageId } = useFormField()
  const body = error ? String(error?.message ?? "") : props.children

  if (!body) {
    return null
  }

  return (
    <p
      data-slot="form-message"
      id={formMessageId}
      className={cn("text-destructive text-sm", className)}
      {...props}
    >
      {body}
    </p>
  )
}

export {
  useFormField,
  Form,
  FormItem,
  FormLabel,
  FormControl,
  FormDescription,
  FormMessage,
  FormField,
}
</file>

<file path="src/components/ui/input.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

function Input({ className, type, ...props }: React.ComponentProps<"input">) {
  return (
    <input
      type={type}
      data-slot="input"
      className={cn(
        "file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        "focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",
        "aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
        className
      )}
      {...props}
    />
  )
}

export { Input }
</file>

<file path="src/components/ui/label.tsx">
"use client"

import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"

import { cn } from "@/lib/utils"

function Label({
  className,
  ...props
}: React.ComponentProps<typeof LabelPrimitive.Root>) {
  return (
    <LabelPrimitive.Root
      data-slot="label"
      className={cn(
        "flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",
        className
      )}
      {...props}
    />
  )
}

export { Label }
</file>

<file path="src/components/ui/select.tsx">
"use client"

import * as React from "react"
import * as SelectPrimitive from "@radix-ui/react-select"
import { CheckIcon, ChevronDownIcon, ChevronUpIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Select({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Root>) {
  return <SelectPrimitive.Root data-slot="select" {...props} />
}

function SelectGroup({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Group>) {
  return <SelectPrimitive.Group data-slot="select-group" {...props} />
}

function SelectValue({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Value>) {
  return <SelectPrimitive.Value data-slot="select-value" {...props} />
}

function SelectTrigger({
  className,
  size = "default",
  children,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {
  size?: "sm" | "default"
}) {
  return (
    <SelectPrimitive.Trigger
      data-slot="select-trigger"
      data-size={size}
      className={cn(
        "border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      {children}
      <SelectPrimitive.Icon asChild>
        <ChevronDownIcon className="size-4 opacity-50" />
      </SelectPrimitive.Icon>
    </SelectPrimitive.Trigger>
  )
}

function SelectContent({
  className,
  children,
  position = "item-aligned",
  align = "center",
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Content>) {
  return (
    <SelectPrimitive.Portal>
      <SelectPrimitive.Content
        data-slot="select-content"
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",
          position === "popper" &&
            "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
          className
        )}
        position={position}
        align={align}
        {...props}
      >
        <SelectScrollUpButton />
        <SelectPrimitive.Viewport
          className={cn(
            "p-1",
            position === "popper" &&
              "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"
          )}
        >
          {children}
        </SelectPrimitive.Viewport>
        <SelectScrollDownButton />
      </SelectPrimitive.Content>
    </SelectPrimitive.Portal>
  )
}

function SelectLabel({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Label>) {
  return (
    <SelectPrimitive.Label
      data-slot="select-label"
      className={cn("text-muted-foreground px-2 py-1.5 text-xs", className)}
      {...props}
    />
  )
}

function SelectItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Item>) {
  return (
    <SelectPrimitive.Item
      data-slot="select-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",
        className
      )}
      {...props}
    >
      <span
        data-slot="select-item-indicator"
        className="absolute right-2 flex size-3.5 items-center justify-center"
      >
        <SelectPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </SelectPrimitive.ItemIndicator>
      </span>
      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
    </SelectPrimitive.Item>
  )
}

function SelectSeparator({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Separator>) {
  return (
    <SelectPrimitive.Separator
      data-slot="select-separator"
      className={cn("bg-border pointer-events-none -mx-1 my-1 h-px", className)}
      {...props}
    />
  )
}

function SelectScrollUpButton({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {
  return (
    <SelectPrimitive.ScrollUpButton
      data-slot="select-scroll-up-button"
      className={cn(
        "flex cursor-default items-center justify-center py-1",
        className
      )}
      {...props}
    >
      <ChevronUpIcon className="size-4" />
    </SelectPrimitive.ScrollUpButton>
  )
}

function SelectScrollDownButton({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {
  return (
    <SelectPrimitive.ScrollDownButton
      data-slot="select-scroll-down-button"
      className={cn(
        "flex cursor-default items-center justify-center py-1",
        className
      )}
      {...props}
    >
      <ChevronDownIcon className="size-4" />
    </SelectPrimitive.ScrollDownButton>
  )
}

export {
  Select,
  SelectContent,
  SelectGroup,
  SelectItem,
  SelectLabel,
  SelectScrollDownButton,
  SelectScrollUpButton,
  SelectSeparator,
  SelectTrigger,
  SelectValue,
}
</file>

<file path="src/components/ui/table.tsx">
"use client"

import * as React from "react"

import { cn } from "@/lib/utils"

function Table({ className, ...props }: React.ComponentProps<"table">) {
  return (
    <div
      data-slot="table-container"
      className="relative w-full overflow-x-auto"
    >
      <table
        data-slot="table"
        className={cn("w-full caption-bottom text-sm", className)}
        {...props}
      />
    </div>
  )
}

function TableHeader({ className, ...props }: React.ComponentProps<"thead">) {
  return (
    <thead
      data-slot="table-header"
      className={cn("[&_tr]:border-b", className)}
      {...props}
    />
  )
}

function TableBody({ className, ...props }: React.ComponentProps<"tbody">) {
  return (
    <tbody
      data-slot="table-body"
      className={cn("[&_tr:last-child]:border-0", className)}
      {...props}
    />
  )
}

function TableFooter({ className, ...props }: React.ComponentProps<"tfoot">) {
  return (
    <tfoot
      data-slot="table-footer"
      className={cn(
        "bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",
        className
      )}
      {...props}
    />
  )
}

function TableRow({ className, ...props }: React.ComponentProps<"tr">) {
  return (
    <tr
      data-slot="table-row"
      className={cn(
        "hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",
        className
      )}
      {...props}
    />
  )
}

function TableHead({ className, ...props }: React.ComponentProps<"th">) {
  return (
    <th
      data-slot="table-head"
      className={cn(
        "text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
        className
      )}
      {...props}
    />
  )
}

function TableCell({ className, ...props }: React.ComponentProps<"td">) {
  return (
    <td
      data-slot="table-cell"
      className={cn(
        "p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
        className
      )}
      {...props}
    />
  )
}

function TableCaption({
  className,
  ...props
}: React.ComponentProps<"caption">) {
  return (
    <caption
      data-slot="table-caption"
      className={cn("text-muted-foreground mt-4 text-sm", className)}
      {...props}
    />
  )
}

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
}
</file>

<file path="src/components/ui/textarea.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

function Textarea({ className, ...props }: React.ComponentProps<"textarea">) {
  return (
    <textarea
      data-slot="textarea"
      className={cn(
        "border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        className
      )}
      {...props}
    />
  )
}

export { Textarea }
</file>

<file path="src/lib/supabase/client.ts">
import { createBrowserClient } from '@supabase/ssr';
import { Database } from '@/types/database';

export const createClient = () => {
  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;

  if (!supabaseUrl || !supabaseAnonKey) {
    throw new Error(
      'Missing Supabase environment variables. ' +
      `NEXT_PUBLIC_SUPABASE_URL: ${supabaseUrl ? 'set' : 'MISSING'}, ` +
      `NEXT_PUBLIC_SUPABASE_ANON_KEY: ${supabaseAnonKey ? 'set' : 'MISSING'}. ` +
      'Please check your .env file in the project root.'
    );
  }

  return createBrowserClient<Database>(supabaseUrl, supabaseAnonKey);
};
</file>

<file path="src/lib/supabase/middleware.ts">
import { createServerClient } from '@supabase/ssr';
import { NextResponse, type NextRequest } from 'next/server';
import { Database } from '@/types/database';

export async function updateSession(request: NextRequest) {
  let response = NextResponse.next({
    request: {
      headers: request.headers,
    },
  });

  const supabase = createServerClient<Database>(
    process.env.NEXT_PUBLIC_SUPABASE_URL!,
    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,
    {
      cookies: {
        get(name: string) {
          return request.cookies.get(name)?.value;
        },
        set(name: string, value: string) {
          request.cookies.set(name, value);
          response = NextResponse.next({
            request: {
              headers: request.headers,
            },
          });
          response.cookies.set(name, value);
        },
        remove(name: string) {
          request.cookies.delete(name);
          response = NextResponse.next({
            request: {
              headers: request.headers,
            },
          });
          response.cookies.delete(name);
        },
      },
    }
  );

  return supabase;
}
</file>

<file path="src/lib/supabase/server.ts">
import { createServerClient as createSupabaseServerClient } from '@supabase/ssr';
import { cookies } from 'next/headers';
import { Database } from '@/types/database';

export const createServerClient = async () => {
  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;

  if (!supabaseUrl || !supabaseAnonKey) {
    throw new Error(
      'Missing Supabase environment variables. ' +
      `NEXT_PUBLIC_SUPABASE_URL: ${supabaseUrl ? 'set' : 'MISSING'}, ` +
      `NEXT_PUBLIC_SUPABASE_ANON_KEY: ${supabaseAnonKey ? 'set' : 'MISSING'}. ` +
      'Please check your .env file in the project root.'
    );
  }

  const cookieStore = await cookies();

  return createSupabaseServerClient<Database>(
    supabaseUrl,
    supabaseAnonKey,
    {
      cookies: {
        getAll() {
          return cookieStore.getAll();
        },
        setAll(cookiesToSet) {
          try {
            cookiesToSet.forEach(({ name, value, options }) =>
              cookieStore.set(name, value, options)
            );
          } catch {
            // The `setAll` method was called from a Server Component.
            // This can be ignored if you have middleware refreshing user sessions.
          }
        },
      },
    }
  );
};
</file>

<file path="src/lib/utils.ts">
import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
</file>

<file path="src/messages/en.json">
{
  "common": {
    "appName": "Easy Rent",
    "save": "Save",
    "cancel": "Cancel",
    "delete": "Delete",
    "edit": "Edit",
    "create": "Create",
    "search": "Search",
    "loading": "Loading...",
    "noData": "No data",
    "confirm": "Confirm",
    "back": "Back"
  },
  "nav": {
    "dashboard": "Dashboard",
    "tenants": "Tenants",
    "templates": "Templates",
    "contracts": "Contracts"
  },
  "auth": {
    "signIn": "Sign In",
    "signOut": "Sign Out",
    "email": "Email",
    "password": "Password"
  }
}
</file>

<file path="src/messages/vi.json">
{
  "common": {
    "appName": "Easy Rent",
    "save": "Lưu",
    "cancel": "Hủy",
    "delete": "Xóa",
    "edit": "Sửa",
    "create": "Tạo mới",
    "search": "Tìm kiếm",
    "loading": "Đang tải...",
    "noData": "Không có dữ liệu",
    "confirm": "Xác nhận",
    "back": "Quay lại"
  },
  "nav": {
    "dashboard": "Tổng quan",
    "tenants": "Khách thuê",
    "templates": "Mẫu hợp đồng",
    "contracts": "Hợp đồng"
  },
  "auth": {
    "signIn": "Đăng nhập",
    "signOut": "Đăng xuất",
    "email": "Email",
    "password": "Mật khẩu"
  }
}
</file>

<file path="src/types/database.ts">
export type Json =
  | string
  | number
  | boolean
  | null
  | { [key: string]: Json | undefined }
  | Json[];

export interface Database {
  public: {
    Tables: {
      tenants: {
        Row: {
          id: string;
          user_id: string;
          full_name: string;
          phone: string;
          id_number: string | null;
          address: string | null;
          date_of_birth: string | null;
          note: string | null;
          created_at: string;
          updated_at: string;
        };
        Insert: Omit<Database['public']['Tables']['tenants']['Row'], 'id' | 'created_at' | 'updated_at'>;
        Update: Partial<Database['public']['Tables']['tenants']['Insert']>;
      };
      contract_templates: {
        Row: {
          id: string;
          user_id: string;
          name: string;
          content: string;
          created_at: string;
          updated_at: string;
        };
        Insert: Omit<Database['public']['Tables']['contract_templates']['Row'], 'id' | 'created_at' | 'updated_at'>;
        Update: Partial<Database['public']['Tables']['contract_templates']['Insert']>;
      };
      contracts: {
        Row: {
          id: string;
          user_id: string;
          tenant_id: string;
          template_id: string;
          tenant_snapshot: Json;
          template_snapshot: Json;
          generated_content: string;
          generated_at: string;
          created_at: string;
        };
        Insert: Omit<Database['public']['Tables']['contracts']['Row'], 'id' | 'created_at'>;
        Update: Partial<Database['public']['Tables']['contracts']['Insert']>;
      };
    };
  };
}
</file>

<file path="src/i18n.ts">
import { getRequestConfig } from 'next-intl/server';

export default getRequestConfig(async ({ requestLocale }) => {
  let locale = await requestLocale;

  // Ensure locale is defined, fallback to 'vi'
  if (!locale) {
    locale = 'vi';
  }

  return {
    locale,
    messages: (await import(`./messages/${locale}.json`)).default,
  };
});
</file>

<file path="src/middleware.ts">
import createMiddleware from 'next-intl/middleware';

export default createMiddleware({
  locales: ['en', 'vi'],
  defaultLocale: 'vi',
});

export const config = {
  matcher: ['/((?!api|_next|_vercel|.*\\..*).*)'],
};
</file>

<file path=".gitignore">
# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.

# dependencies
/node_modules
/.pnp
.pnp.*
.yarn/*
!.yarn/patches
!.yarn/plugins
!.yarn/releases
!.yarn/versions

# testing
/coverage

# next.js
/.next/
/out/

# production
/build

# misc
.DS_Store
*.pem

# debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*
.pnpm-debug.log*

# env files (can opt-in for committing if needed)
.env*

# vercel
.vercel

# typescript
*.tsbuildinfo
next-env.d.ts

plans/*
</file>

<file path="components.json">
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "",
    "css": "src/app/globals.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "iconLibrary": "lucide",
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "registries": {}
}
</file>

<file path="eslint.config.mjs">
import { defineConfig, globalIgnores } from "eslint/config";
import nextVitals from "eslint-config-next/core-web-vitals";
import nextTs from "eslint-config-next/typescript";

const eslintConfig = defineConfig([
  ...nextVitals,
  ...nextTs,
  // Override default ignores of eslint-config-next.
  globalIgnores([
    // Default ignores of eslint-config-next:
    ".next/**",
    "out/**",
    "build/**",
    "next-env.d.ts",
  ]),
]);

export default eslintConfig;
</file>

<file path="next.config.ts">
import type { NextConfig } from 'next';
import createNextIntlPlugin from 'next-intl/plugin';

const withNextIntl = createNextIntlPlugin('./src/i18n.ts');

const nextConfig: NextConfig = {
  /* config options here */
};

export default withNextIntl(nextConfig);
</file>

<file path="package.json">
{
  "name": "easy-rent-temp",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "eslint"
  },
  "dependencies": {
    "@hookform/resolvers": "^5.2.2",
    "@radix-ui/react-dialog": "^1.1.15",
    "@radix-ui/react-dropdown-menu": "^2.1.16",
    "@radix-ui/react-label": "^2.1.8",
    "@radix-ui/react-select": "^2.2.6",
    "@radix-ui/react-slot": "^1.2.4",
    "@supabase/ssr": "^0.8.0",
    "@supabase/supabase-js": "^2.89.0",
    "@tanstack/react-query": "^5.90.12",
    "@tanstack/react-query-devtools": "^5.91.1",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "date-fns": "^4.1.0",
    "lucide-react": "^0.562.0",
    "next": "16.1.1",
    "next-intl": "^4.6.1",
    "prettier": "^3.7.4",
    "react": "19.2.3",
    "react-dom": "19.2.3",
    "react-hook-form": "^7.69.0",
    "react-markdown": "^10.1.0",
    "tailwind-merge": "^3.4.0",
    "zod": "^4.2.1"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "eslint": "^9",
    "eslint-config-next": "16.1.1",
    "tailwindcss": "^4",
    "tw-animate-css": "^1.4.0",
    "typescript": "^5"
  }
}
</file>

<file path="postcss.config.mjs">
const config = {
  plugins: {
    "@tailwindcss/postcss": {},
  },
};

export default config;
</file>

<file path="README.md">
This is a [Next.js](https://nextjs.org) project bootstrapped with [`create-next-app`](https://nextjs.org/docs/app/api-reference/cli/create-next-app).

## Getting Started

First, run the development server:

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

This project uses [`next/font`](https://nextjs.org/docs/app/building-your-application/optimizing/fonts) to automatically optimize and load [Geist](https://vercel.com/font), a new font family for Vercel.

## Learn More

To learn more about Next.js, take a look at the following resources:

- [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.
- [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.

You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js) - your feedback and contributions are welcome!

## Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.

Check out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-application/deploying) for more details.
</file>

<file path="tsconfig.json">
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "react-jsx",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts",
    ".next/dev/types/**/*.ts",
    "**/*.mts"
  ],
  "exclude": ["node_modules"]
}
</file>

</files>
